var mmThemeFixesBeforeInit = function(){ /* generic mobile menu toggle translate effect */ jQueryBuddha(document).on("toggleSubmenu", function(e, elem, smHeight){ if (jQueryBuddha("#MobileNav").length > 0 && jQueryBuddha("#PageContainer").length > 0 && jQueryBuddha("#PageContainer").attr("style") != undefined && jQueryBuddha("#PageContainer").attr("style").includes("translate3d")) { var menuHeight = jQueryBuddha("#MobileNav").outerHeight() + smHeight; var newTransition = "transform: translate3d(0px, "+ menuHeight +"px, 0px)"; jQueryBuddha("#PageContainer").attr("style",newTransition); } }); jQueryBuddha(window).on("load", function(){ setTimeout(function(){ if (jQueryBuddha("#megamenu_level__1").length > 0 && jQueryBuddha("#megamenu_level__1").is(".vertical-mega-menu")) { reinitMenus("#megamenu_level__1"); } },100); }); }; var mmThemeFixesBefore = function(){ window.buddhaFilterLiElements = function(liElements){ var elements = []; liElements.each(function(){ if (jQueryBuddha(this).find("[href=\"/cart\"]").length == 0) elements.push(jQueryBuddha(this)); }); return elements; }; if (tempMenuObject.ul.is("#mobile_menu, #velaMegamenu .nav, #SiteNav")) { tempMenuObject.forceMenu = true; tempMenuObject.skipCheck = true; tempMenuObject.liItems = buddhaFilterLiElements(jQueryBuddha(tempMenuObject.ul).children().not(".search_container,.site-nav__item_cart")); } else if (tempMenuObject.ul.is(".main_nav .nav .menu")) { var numMenusApplied = 0, numMenusAppliedSticky = 0; jQueryBuddha(".main_nav .nav .menu").each(function(){ if (jQueryBuddha(this).parents(".sticky_nav").length==0) { if (jQueryBuddha(this).find(".buddha-menu-item").length>0) { numMenusApplied++; } } else { if (jQueryBuddha(this).find(".buddha-menu-item").length>0) { numMenusAppliedSticky++; } } }); if (((tempMenuObject.ul.parents(".sticky_nav").length > 0) && (numMenusAppliedSticky < 1)) || ((tempMenuObject.ul.parents(".sticky_nav").length == 0) && (numMenusApplied < 1))) { tempMenuObject.forceMenu = true; tempMenuObject.skipCheck = true; tempMenuObject.liItems = buddhaFilterLiElements(jQueryBuddha(tempMenuObject.ul).children().not(".search_container,.site-nav__item_cart")); } } else if (tempMenuObject.ul.is("#mobile-menu:not(.mm-menu)") && tempMenuObject.ul.find(".hamburger,.shifter-handle").length == 0) { tempMenuObject.forceMenu = true; tempMenuObject.skipCheck = true; tempMenuObject.liItems = buddhaFilterLiElements(jQueryBuddha(tempMenuObject.ul).children()); } else if (tempMenuObject.ul.is("#accessibleNav") && tempMenuObject.ul.parents("#topnav2").length == 0) { tempMenuObject.forceMenu = true; tempMenuObject.skipCheck = true; tempMenuObject.liItems = buddhaFilterLiElements(jQueryBuddha(tempMenuObject.ul).children().not(".customer-navlink")); } else if (tempMenuObject.ul.is("#megamenu_level__1")) { tempMenuObject.forceMenu = true; tempMenuObject.skipCheck = true; tempMenuObject.liClasses = "level_1__item"; tempMenuObject.aClasses = "level_1__link"; tempMenuObject.liItems = buddhaFilterLiElements(jQueryBuddha(tempMenuObject.ul).children()); } else if (tempMenuObject.ul.is(".mobile-nav__items")) { tempMenuObject.forceMenu = true; tempMenuObject.skipCheck = true; tempMenuObject.liClasses = "mobile-nav__item"; tempMenuObject.aClasses = "mobile-nav__link"; tempMenuObject.liItems = buddhaFilterLiElements(jQueryBuddha(tempMenuObject.ul).children()); } else if (tempMenuObject.ul.is("#NavDrawer > .mobile-nav")) { tempMenuObject.forceMenu = true; tempMenuObject.skipCheck = true; tempMenuObject.liClasses = "mobile-nav__item"; tempMenuObject.aClasses = "mobile-nav__link"; tempMenuObject.liItems = buddhaFilterLiElements(jQueryBuddha(tempMenuObject.ul).children().not(".mobile-nav__search")); } else if (tempMenuObject.ul.is(".mobile-nav-wrapper > .mobile-nav")) { tempMenuObject.forceMenu = true; tempMenuObject.skipCheck = true; tempMenuObject.liClasses = "mobile-nav__item border-bottom"; tempMenuObject.aClasses = "mobile-nav__link"; tempMenuObject.liItems = buddhaFilterLiElements(jQueryBuddha(tempMenuObject.ul).children().not(".mobile-nav__search")); } else if (tempMenuObject.ul.is("#nav .mm-panel .mm-listview")) { tempMenuObject.forceMenu = true; tempMenuObject.skipCheck = true; tempMenuObject.liItems = buddhaFilterLiElements(jQueryBuddha(tempMenuObject.ul).children()); var firstMmPanel = true; jQueryBuddha("#nav>.mm-panels>.mm-panel").each(function(){ if (firstMmPanel) { firstMmPanel = false; jQueryBuddha(this).removeClass("mm-hidden mm-subopened"); } else { jQueryBuddha(this).remove(); } }); } else if (tempMenuObject.ul.is(".SidebarMenu__Nav--primary")) { tempMenuObject.forceMenu = true; tempMenuObject.skipCheck = true; tempMenuObject.liClasses = "Collapsible"; tempMenuObject.aClasses = "Collapsible__Button Heading u-h6"; tempMenuObject.liItems = buddhaFilterLiElements(jQueryBuddha(tempMenuObject.ul).children()); } else if (tempMenuObject.ul.is(".mm_menus_ul")) { tempMenuObject.forceMenu = true; tempMenuObject.skipCheck = true; tempMenuObject.liClasses = "ets_menu_item"; tempMenuObject.aClasses = "mm-nowrap"; tempMenuObject.liItems = buddhaFilterLiElements(jQueryBuddha(tempMenuObject.ul).children()); jQueryBuddha("#mmThemeCStyle").remove(); jQueryBuddha("head").append("<style id=\"mmThemeCStyle\"> .horizontal-mega-menu > .buddha-menu-item > a {white-space: nowrap;} </style>"); } /* try to find li and a classes for requested menu if they are not set */ if (tempMenuObject.skipCheck == true) { var _links=[]; jQueryBuddha.each(linkLists, function(key, item) { if (selectedMenu == key) { _links = item.items; return false; } }); jQueryBuddha(this).children("li").each(function() { var li = jQueryBuddha(this); var a = li.find("a").first(); var href = a.attr("href"); if ((href == undefined || (href != undefined && (href.substr(0, 1) == "#" || href == ""))) && li.find("a:nth-child(2)").length > 0) { a = li.find("a:nth-child(2)"); href = a.attr("href"); } else if ((href == undefined || (href != undefined && (href.substr(0, 1) == "#" || href == ""))) && li.find("a>a").length > 0) { a = li.find("a>a"); href = a.attr("href"); } if (_links[tempMenuObject.elementFits] != undefined && href == _links[tempMenuObject.elementFits]) { if (tempMenuObject.liClasses == undefined) { tempMenuObject.liClasses = ""; } tempMenuObject.liClasses = concatClasses(li.attr("class"), tempMenuObject.liClasses); if (tempMenuObject.aClasses == undefined) { tempMenuObject.aClasses = []; } tempMenuObject.aClasses = concatClasses(a.attr("class"), tempMenuObject.aClasses); tempMenuObject.elementFits++; } else if (tempMenuObject.elementFits > 0 && tempMenuObject.elementFits != _links.length) { tempMenuObject.elementFits = 0; if (href == _links[0]) { tempMenuObject.elementFits = 1; } } }); } }; var schemaDesignJSON = [{"action":"design","setting":"font_family","value":"Default"},{"action":"design","setting":"font_size","value":"13px"},{"action":"design","setting":"text_color","value":"#222222"},{"action":"design","setting":"link_hover_color","value":"#0da19a"},{"action":"design","setting":"link_color","value":"#4e4e4e"},{"action":"design","setting":"background_hover_color","value":"#f9f9f9"},{"action":"design","setting":"background_color","value":"#ffffff"},{"action":"design","setting":"price_color","value":"#0da19a"},{"action":"design","setting":"button_text_hover_color","value":"#ffffff"},{"action":"design","setting":"button_text_color","value":"#ffffff"},{"action":"design","setting":"button_background_hover_color","value":"#0d8781"},{"action":"design","setting":"button_background_color","value":"#0da19a"},{"action":"design","setting":"addtocart_text_color","value":"#333333"},{"action":"design","setting":"addtocart_background_color","value":"#ffffff"},{"action":"design","setting":"addtocart_text_hover_color","value":"#ffffff"},{"action":"design","setting":"addtocart_background_hover_color","value":"#0da19a"},{"action":"design","setting":"countdown_color","value":"#ffffff"},{"action":"design","setting":"countdown_background_color","value":"#333333"},{"action":"design","setting":"vertical_font_family","value":"Default"},{"action":"design","setting":"vertical_font_size","value":"13px"},{"action":"design","setting":"vertical_text_color","value":"#ffffff"},{"action":"design","setting":"vertical_link_color","value":"#ffffff"},{"action":"design","setting":"vertical_link_hover_color","value":"#ffffff"},{"action":"design","setting":"vertical_price_color","value":"#ffffff"},{"action":"design","setting":"vertical_button_text_color","value":"#ffffff"},{"action":"design","setting":"vertical_addtocart_text_color","value":"#ffffff"},{"action":"design","setting":"vertical_countdown_color","value":"#ffffff"},{"action":"design","setting":"vertical_countdown_background_color","value":"#333333"},{"action":"design","setting":"vertical_background_color","value":"#017b86"},{"action":"design","setting":"vertical_addtocart_background_color","value":"#333333"},{"action":"design","setting":"vertical_button_background_color","value":"#333333"}], mmAppUrl = "megamenu.buddhaapps.com", mmDomChangeSkipUl = "", buddhaMegaMenuShop = "supanic.myshopify.com", mmjQueryFile = "https://code.jquery.com/jquery-3.5.1.slim.min.js";function mmAddStyle(e,t){const n=document.createElement("style");if(n.textContent=e,void 0!==t){n.id=t;var a=document.getElementById(t);a&&a.parentNode.removeChild(a)}document.head.appendChild(n)}function mmAddClasses(e,t){if(t&&""!=(t=t.trim()))for(cl=t.split(/\s+/),c=0;c<cl.length;c++)e.classList.add(cl[c])}function mmForEach(e,t,n,a){for(var u=e.querySelectorAll(t),i=0;i<u.length;i++)n(u[i]);if(void 0!==a)return u}function mmChildren(e,t){var n=e.children;if(n)for(var a=0;a<n.length;a++)t(n[a])}function mmParents(e,t){for(var n=[],a=e;a.parentNode!=document;)void 0!==t&&a.parentNode.tagName!=t||n.push(a.parentNode),a=a.parentNode;return n}function mmIsVisible(e){return!!e&&null!==e.offsetParent}function mmRemove(e){var t=document.querySelector(e);t&&t.parentNode.removeChild(t)}function mmErrorLog(e){if(mmNumErrors++>=2)throw e;var t=new XMLHttpRequest;t.open("POST","https://notify.bugsnag.com/"),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Bugsnag-Api-Key","b1d0f3de79a0970e706491de768a5c2e"),t.setRequestHeader("Bugsnag-Payload-Version","5"),t.onreadystatechange=function(){4===this.readyState&&(console.log("Status:",this.status),console.log("Headers:",this.getAllResponseHeaders()),console.log("Body:",this.responseText))};var n={apiKey:"b1d0f3de79a0970e706491de768a5c2e",payloadVersion:"5",notifier:{name:"Bugsnag Ruby",version:"1.0.11",url:"https://github.com/bugsnag/bugsnag-ruby",dependencies:[{name:"Bugsnag Android",version:"2.1.10",url:"https://github.com/bugsnag/bugsnag-android"}]},events:[{exceptions:[{errorClass:"buddha-megamenu.js ",message:e.message,stacktrace:[{file:window.location.href,code:{1:e.stack}}]}],unhandled:!1,device:{browserName:navigator.userAgent}}]};throw t.send(JSON.stringify(n)),e}function loadBuddhaMegaMenu(){readyStateCheckInterval=setInterval(initBuddhaMegaMenu,100),setTimeout(function(){clearInterval(readyStateCheckInterval)},35e3),window.self!==window.top&&("loading"!==document.readyState?initSchema():window.addEventListener("load",initSchema),setTimeout(function(){initSchema()},5e3)),initBuddhaMegaMenu()}function initBuddhaMegaMenu(){try{if(Object.keys(mmWireSlices).length!=mmWireSlices[0]+1||0!=mmLivIcons&&(1!=mmLivIcons||1!=mmLivIconsLoaded)||!(window.self!==window.top||window.self===window.top&&jQueryBuddha.isReady))return!1;mmWireSlices.shift(),newMenu=mmWireSlices.join(""),newMenu=newMenu.replace(new RegExp('<div id="bsWidget">',"g"),bestSellersHTML),newMenu=newMenu.replace(new RegExp('<div id="npWidget">',"g"),newestProductsHTML);for(var e=Object.keys(productImageAndPrice),t=0;t<e.length;t++){var n=-1!=productImageAndPrice[e[t]][3].indexOf("mega-menu-sold_out")?"mm-sold-out":"";newMenu=newMenu.replace(new RegExp('<div class="mega-menu-prices get-mega-menu-prices" data-id="'+e[t]+'"></div>',"g"),'<div class="mega-menu-prices '+n+'">'+productImageAndPrice[e[t]][3]+"</div>")}clearInterval(readyStateCheckInterval);var a=!1;if(-1==document.head.innerHTML.indexOf("mm-init.js?")&&-1==document.body.innerHTML.indexOf("mm-init.js?")||(a=!0),a){var u=0,i=setInterval(function(){u++,"undefined"!=typeof mutationExceptions&&(mutationExceptions[mutationExceptions.length]=".buddha-menu-item",clearInterval(i)),u>10&&clearInterval(i)},1e3);if("undefined"!=typeof mmCustomerFixesBeforeInit&&-1==mmCustomerFixesBeforeInit())return void mmRemove("#mmHideOriginalMenuStyle");"undefined"!=typeof mmThemeFixesBeforeInit&&0==disableThemeScript&&mmThemeFixesBeforeInit(),mmAddStyle(generateMobileMenuColors("#017b86",!0),"buddhaInitialMobileMenuColors"),initSchema(),window.self!==window.top&&(mmRemove("#admin_bar_iframe"),document.querySelector("html").style.paddingTop="0px",setInterval(function(){mmForEach(document,"*",function(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("top"),a=t.getPropertyValue("position");"40px"==n&&"fixed"==a&&(e.style.top="0px")})},1e3));var m,o=window.innerWidth;if(window.addEventListener("resize",function(){try{o!=window.innerWidth&&(mmForEach(document,".mm-hovering",function(e){e.classList.remove("mm-hovering")}),clearTimeout(m),m=setTimeout(function(){const e=document.createEvent("Event");e.initEvent("mmWindowResize",!0,!0),document.dispatchEvent(e);var t=!1,n=document.querySelector(".mega-hover");n&&(t=n.getAttribute("itemId"));var a=!1;l=document.querySelectorAll(possibleMenuUls).length,d=document.querySelectorAll("nav").length,l-=document.querySelectorAll(".buddha-menu-item ul").length,storeUlCount==l&&storeNavCount==d||(storeUlCount=l,storeNavCount=d,a=!0);for(var u=0;u<ulPaths.length;u++){var i=document.querySelector(ulPaths[u]);(!i||i&&i.querySelectorAll(".buddha-menu-item").length!=mmNumMMI)&&(a=!0)}if(a)applyMegaMenu(),applyOnClick();else for(var u=0;u<ulPaths.length;u++)reinitMenus(ulPaths[u]);t&&designPanelOpened(t),panelOpened&&null==document.querySelector(".buddha-menu-item.mega-hover")&&designPanelOpened(),o=window.innerWidth},300))}catch(e){mmErrorLog(e)}}),!disableOnScroll){var r=function(){try{mmForEach(document,".horizontal-mega-menu>.buddha-menu-item>.mm-submenu",function(e){if(parseInt(window.getComputedStyle(e).getPropertyValue("top"))>0){var t=e.parentNode;if(e.matches(".mm-submenu.simple,.mm-submenu.tabbed")){for(var n=!1,a=mmParents(t.parentNode),u=0;u<a.length;u++){var i=window.getComputedStyle(a[u]).getPropertyValue("position");"fixed"!=i&&"sticky"!=i||(n=!0)}if(n){var m=e.getBoundingClientRect(),o=parseInt(m.top),r=window.innerHeight-o;m.height>=r?(e.style.maxHeight=r+"px",e.style.overflow="scroll",e.style.overflowX="hidden"):(e.style.maxHeight="none",e.style.overflow="hidden")}else if(document.documentElement.offsetHeight-200<=window.innerHeight){var r=document.documentElement.offsetHeight-250;e.style.maxHeight=r+"px",e.style.overflow="scroll",e.style.overflowX="hidden"}else e.style.maxHeight="none",e.style.overflow="hidden"}}})}catch(e){mmErrorLog(e)}};setInterval(r,1e3)}var l=document.querySelectorAll(possibleMenuUls).length,d=document.querySelectorAll("nav").length;l-=document.querySelectorAll(".buddha-menu-item ul").length;var s=1;storeUlCount==l&&storeNavCount==d||(storeUlCount=l,storeNavCount=d,applyMegaMenu(),applyOnClick()),clearInterval(c);var c=setInterval(function(){try{if(s++,s>loadMegaMenuTries&&clearInterval(c),l=document.querySelectorAll(possibleMenuUls).length,d=document.querySelectorAll("nav").length,l-=document.querySelectorAll(".buddha-menu-item ul").length,storeUlCount!=l||storeNavCount!=d){if(storeUlCount=l,storeNavCount=d,void 0!==customMenuUls){for(var e=0,t=customMenuUls.split(","),n=0;n<t.length;n++){var a=document.querySelector(t[n]);a&&a.matches(".vertical-mega-menu,.horizontal-mega-menu")&&e++}if(e==t.length)return void clearInterval(c)}applyMegaMenu(),applyOnClick()}}catch(e){mmErrorLog(e)}},100)}else mmForEach(document,".buddha-disabled-menu",function(e){e.classList.remove("buddha-disabled-menu")}),mmRemove("#mmHideOriginalMenuStyle"),mmForEach(document,"link[href]",function(e){-1!==e.getAttribute("href").indexOf("buddha-megamenu.css")&&e.parentNode.removeChild(e)}),"undefined"!=typeof hideOriginalMenuInterval&&clearInterval(hideOriginalMenuInterval);window.addEventListener("beforeunload",function(e){window.self!==window.top&&(saving||(e.preventDefault(),undo.length>0||changedMenu?e.returnValue="You might have unsaved changes.":e.returnValue="URL redirect is not allowed in preview mode."))});var h;document.addEventListener("lazyloaded",function(e){try{var t=e.target,n=t.closest(".mm-submenu.simple");if(n){var a=t.closest(".mm-image");a?(t.setAttribute("style",""),a.setAttribute("style",""),t.style.height=t.height+"px",a.style.height=t.height+"px",clearTimeout(h),h=setTimeout(function(){var e=n.parentNode,t=n.getAttribute("columns");setSubmenuImageAndHeightBoundries(jQueryBuddha(e),t),e.classList.contains("mm-hovering")&&slideDownTransition(jQueryBuddha(n)),e.parentNode.matches(".mm-submenu.tabbed")&&setTabbedSubmenuBoundries(jQueryBuddha(e))},50)):t.setAttribute("style","border-radius: 50%; overflow: hidden;")}}catch(e){mmErrorLog(e)}})}catch(e){mmErrorLog(e)}}function mmEvtApplyOnClick(e){var t=e.target;clicked||touched||(clicked=!0,setTimeout(function(){try{var e=t.closest(".horizontal-mega-menu"),n=t.closest(".vertical-mega-menu");if(!(changingPage||null!=t.closest(".buddha-menu-item")||null!=e&&(null==e||mmIsVisible(e.querySelector(".buddha-menu-item")))||null!=n&&(null==n||mmIsVisible(n.querySelector(".buddha-menu-item")))||t.classList.contains("stop-mega-menu-reinit"))){var a=!1,u=document.querySelectorAll(possibleMenuUls).length,i=document.querySelectorAll("nav").length;u-=document.querySelectorAll(".buddha-menu-item ul").length,storeUlCount==u&&storeNavCount==i||(storeUlCount=u,storeNavCount=i,a=!0);for(var m=0;m<ulPaths.length;m++){var o=document.querySelector(ulPaths[m]);(!o||o&&o.querySelectorAll(".buddha-menu-item").length!=mmNumMMI)&&(a=!0)}if(onClickOnlyReinit||0==a)for(var m=0;m<ulPaths.length;m++)reinitMenus(ulPaths[m]);else applyMegaMenu();if("undefined"!=typeof DoublyGlobalCurrency){var r=document.querySelector(".currency-switcher-btn.selected");r?DoublyGlobalCurrency.convertAll(r.getAttribute("doubly-currency")):(r=document.querySelector("[name=doubly-currencies]"))&&DoublyGlobalCurrency.convertAll(r.value)}}}catch(e){mmErrorLog(e)}},mobileMenuMilliseconds)),setTimeout(function(){clicked=!1},mobileMenuMilliseconds+50)}function applyOnClick(){disableOnClick||void 0==selectedMenu||"none"==selectedMenu||(clicked=!1,null==document.querySelector(burgerIcon)&&(burgerIcon=".js-mobile-nav-toggle,.js-drawer-open-left,.js-drawer-open-button-left,#wsnavtoggle,.header__mobile-nav-toggle,#mobileNavBar .menu-toggle,.js-drawer-open-nav",null==document.querySelector(burgerIcon)&&(burgerIcon="*")),mmForEach(document,burgerIcon,function(e){e.removeEventListener("click",mmEvtApplyOnClick),e.addEventListener("click",mmEvtApplyOnClick)}))}function initSchema(){if(0==initializedSchema){initializedSchema=!0,"string"==typeof schemaDesignJSON&&(schemaDesignJSON=JSON.parse(schemaDesignJSON));for(var e=0;e<schemaDesignJSON.length;e++){var t=schemaDesignJSON[e];if("design"==t.action&&void 0!=t.setting)if(-1!=t.setting.indexOf("main_menu_item_size_")){var n=t.setting.replace("main_menu_item_size_","");submenuSizes[n]=parseInt(t.value)+25}else if(-1!=t.setting.indexOf("main_menu_item_direction_")){var n=t.setting.replace("main_menu_item_direction_","");submenuDirections[n]=t.value}else if(-1!=t.setting.indexOf("main_menu_item_columns_")){var n=t.setting.replace("main_menu_item_columns_","");submenuColumns[n]=t.value}}if(recreateDesign(),action="",window.self!==window.top){var a=parent;void 0===parent.postMessage&&(a=top),a.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"*")}}}function iframeReady(){previewPanelLoaded=!0,document.getElementById("mega-menu-iframe").contentWindow.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"https://buddhaapps.com")}function reloadPreview(){location.reload()}function initCountdown(e){var t=e.attr("countdown");if(0==e.find(".buddha-menu-item-countdown").length&&void 0!=t&&!isNaN(Date.parse(t))){var n=(new Date(t).getTime()-(new Date).getTime())/1e3%86400;n<0&&(n+=86400),e.find(">a>i.mm-angle-down:last").length>0?e.find(">a>i.mm-angle-down:last").before(' <i class="buddha-menu-item-countdown"> <div></div> </i>'):e.find(">a>.mm-label").length>0?e.find(">a>.mm-label").before(' <i class="buddha-menu-item-countdown"> <div></div> </i>'):e.find(">a").append(' <i class="buddha-menu-item-countdown"> <div></div> </i>'),e.find(".buddha-menu-item-countdown>div").FlipClock(n,{clockFace:"DailyCounter",countdown:!0})}}function generateMobileMenuColors(e,t){for(var n="",a=".vertical-mega-menu>"+(void 0!==t?"li":".buddha-menu-item")+">.mm-submenu.height-transition",u=LightenDarkenColor(e,20),i=1;i<8;i++)n+=a+"{background-color: "+e+" !important;} ",n+=a+">li{background-color: inherit !important;} ",n+=a+">li>a{background-color: inherit !important;} ",n+=a+">li>a>.toggle-menu-btn>.mm-cross{background-color: "+u+" !important;} ",a+=">li>.mm-submenu.height-transition",e=LightenDarkenColor(e,20),u=LightenDarkenColor(u,20);return n}function shadeColor(e,t){var n=parseInt(e.slice(1),16),a=t<0?0:255,u=t<0?-1*t:t,i=n>>16,m=n>>8&255,o=255&n;return"#"+(16777216+65536*(Math.round((a-i)*u)+i)+256*(Math.round((a-m)*u)+m)+(Math.round((a-o)*u)+o)).toString(16).slice(1)}function customPropSettingsStyles(e,t){var n="";switch(e){case"countdown_background_color":case"vertical_countdown_background_color":var a=".horizontal-mega-menu";"vertical_countdown_background_color"==e&&(a=".vertical-mega-menu"),t=shadeColor(t,-.5);var u=shadeColor(t,-.3);n+=a+" .flip-clock-wrapper ul.play li.flip-clock-before .up .shadow, .flip-clock-wrapper ul.play li.flip-clock-active .up .shadow {background: -moz-linear-gradient(top, rgba(0, 0, 0, 0.1) 0%, "+t+" 100%) !important;background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(0, 0, 0, 0.1)), color-stop(100%, "+t+")) !important;background: linear, top, rgba(0, 0, 0, 0.1) 0%, "+t+" 100% !important;background: -o-linear-gradient(top, rgba(0, 0, 0, 0.1) 0%, "+t+" 100%) !important;background: -ms-linear-gradient(top, rgba(0, 0, 0, 0.1) 0%, "+t+" 100%) !important;background: linear, to bottom, rgba(0, 0, 0, 0.1) 0%, "+t+" 100% !important;}",n+=a+" .flip-clock-wrapper ul.play li.flip-clock-before .down .shadow, .flip-clock-wrapper ul.play li.flip-clock-active .down .shadow {background: -moz-linear-gradient(top, "+t+" 0%, rgba(0, 0, 0, 0.1) 100%) !important;background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, "+t+"), color-stop(100%, rgba(0, 0, 0, 0.1))) !important;background: linear, top, "+t+" 0%, rgba(0, 0, 0, 0.1) 100% !important;background: -o-linear-gradient(top, "+t+" 0%, rgba(0, 0, 0, 0.1) 100%) !important;background: -ms-linear-gradient(top, "+t+" 0%, rgba(0, 0, 0, 0.1) 100%) !important;background: linear, to bottom, "+t+" 0%, rgba(0, 0, 0, 0.1) 100% !important;}",n+=a+" .buddha-menu-item-countdown .inn { text-shadow: 0 1px 2px "+u+" !important; }";break;case"background_color":break;case"background_image_text_color":n+=".horizontal-mega-menu .buddha-menu-item ul.mm-submenu.simple.backgroundImage > li .mm-list-name > span {border-bottom: 1px solid "+t+" !important;}";break;case"vertical_text_color":n+=".vertical-mega-menu ul.mm-submenu.simple > li .mm-list-name { border-bottom: 1px solid "+t+" !important; }";break;case"vertical_background_color":mmRemove("#buddhaInitialMobileMenuColors"),n+=generateMobileMenuColors(t);break;case"font_size":n+=".horizontal-mega-menu .buddha-menu-item .mm-description {font-size: "+(parseInt(t)-1)+"px !important;}";break;case"vertical_font_size":n+=".vertical-mega-menu .buddha-menu-item .mm-description {font-size: "+(parseInt(t)-1)+"px !important;}";break;case"addtocart_background_color":"#ffffff"==t&&(t="#000000"),n+=".horizontal-mega-menu .mm-add-to-cart {border-color: "+t+" !important;}";break;case"addtocart_background_hover_color":"#ffffff"==t&&(t="#000000"),n+=".horizontal-mega-menu .buddha-menu-item .mm-submenu .mm-add-to-cart:hover {border-color: "+t+" !important;}";break;case"vertical_addtocart_text_color":n+=".vertical-mega-menu .buddha-menu-item .mm-submenu .mm-add-to-cart:hover {color: "+LightenDarkenColor(t,-20)+" !important;}";break;case"vertical_addtocart_background_color":n+=".vertical-mega-menu .buddha-menu-item .mm-add-to-cart {border-color: "+t+" !important;}",n+=".vertical-mega-menu .buddha-menu-item .mm-submenu .mm-add-to-cart:hover {border-color: "+LightenDarkenColor(t,-20)+" !important;background-color: "+LightenDarkenColor(t,-20)+" !important;}"}return n}function applyMegaMenu(e){try{if("undefined"!=typeof mutationExceptions&&(mutationExceptions[mutationExceptions.length]="ul"),"undefined"!=typeof hideOriginalMenuInterval&&clearInterval(hideOriginalMenuInterval),void 0!=e){var t=[];selectedMenu=e;for(var n=0;n<schemaDesignJSON.length;n++)"menu-select"!=schemaDesignJSON[n].action&&t.push(schemaDesignJSON[n]);schemaDesignJSON=t,changedMenu=!0}else for(var n=0;n<schemaDesignJSON.length;n++)"menu-select"==schemaDesignJSON[n].action&&(selectedMenu=schemaDesignJSON[n].value);0==mmApplyOnce&&(mmForEach(document,".vertical-mega-menu",function(e){e.classList.remove("vertical-mega-menu")}),mmForEach(document,".horizontal-mega-menu",function(e){e.classList.remove("horizontal-mega-menu")}),mmForEach(document,".buddha-disabled",function(e){e.classList.remove("buddha-disabled")}),mmForEach(document,".buddha-menu-item,#themeScript",function(e){e.parentNode.removeChild(e)}));for(var a=[],u=Object.keys(linkLists),n=0;n<u.length;n++)if(selectedMenu==u[n]){a=linkLists[u[n]].items;break}if(window.self!==window.top&&console.log(a),0==activateMegaMenu&&(selectedMenu="none"),void 0!=selectedMenu&&"none"!=selectedMenu&&(a.length>0||void 0!=customMenuUls)){var i=void 0!=customMenuUls?customMenuUls:"ul,nav";mmForEach(document,i,function(e){tempMenuObject={},tempMenuObject.u=e,tempMenuObject.ul=jQueryBuddha(e),tempMenuObject.forceMenu=!1,tempMenuObject.skipCheck=!1,tempMenuObject.elementFits=0;var t=[];if(1==mmApplyOnce&&(e.classList.contains("vertical-mega-menu")||e.classList.contains("horizontal-mega-menu")))return!0;if(("undefined"==typeof mmThemeFixesBefore||0!=disableThemeScript||-1!=mmThemeFixesBefore.call(e))&&(tempMenuObject.skipCheck||mmChildren(e,function(e){if("LI"==e.nodeName){var t=null,n=e.querySelector("a");n&&(t=n.getAttribute("href")),null!=t&&(null==t||"#"!=t.substr(0,1)&&""!=t)||(n=e.querySelector("a:nth-child(2)"))&&(t=n.getAttribute("href")),null!=t&&(null==t||"#"!=t.substr(0,1)&&""!=t)||(n=e.querySelector("a>a"))&&(t=n.getAttribute("href")),void 0!=a[tempMenuObject.elementFits]&&t==a[tempMenuObject.elementFits]?(void 0==tempMenuObject.liClasses&&(tempMenuObject.liClasses=""),tempMenuObject.liClasses=concatClasses(e.getAttribute("class"),tempMenuObject.liClasses),void 0==tempMenuObject.aClasses&&(tempMenuObject.aClasses=""),n&&(tempMenuObject.aClasses=concatClasses(n.getAttribute("class"),tempMenuObject.aClasses)),void 0==tempMenuObject.liItems&&(tempMenuObject.liItems=[]),-1==jQueryBuddha.inArray(e,tempMenuObject.liItems)&&(tempMenuObject.liItems[tempMenuObject.liItems.length]=e),e.classList.add("buddha-transparent"),tempMenuObject.elementFits++):tempMenuObject.elementFits>0&&tempMenuObject.elementFits!=a.length&&(tempMenuObject.elementFits=0,tempMenuObject.liItems=[],mmForEach(document,".buddha-transparent",function(e){e.classList.remove("buddha-transparent")}),t==a[0]&&(tempMenuObject.elementFits=1,tempMenuObject.liItems[tempMenuObject.liItems.length]=e,e.classList.add("buddha-transparent")))}}),"undefined"==typeof mmCustomerFixesBefore||-1!=mmCustomerFixesBefore.call(e)))if(tempMenuObject.elementFits>0&&tempMenuObject.elementFits==a.length||tempMenuObject.forceMenu){for(var n=getSpecificClasses(tempMenuObject.liClasses),u=getSpecificClasses(tempMenuObject.aClasses),i=0;i<tempMenuObject.liItems.length;i++){var m;m=void 0!==tempMenuObject.liItems[i].get?tempMenuObject.liItems[i].get(0):tempMenuObject.liItems[i],m&&void 0!==m&&(m.classList.remove("buddha-transparent"),m.classList.add("buddha-disabled"))}if(newMenu){e.insertAdjacentHTML("afterbegin",newMenu);var o=mmForEach(e,".buddha-menu-item>.mm-submenu",function(e){e.setAttribute("style","display: none !important;")},!0);if(t=mmForEach(e,".buddha-menu-item",function(e){var t=e.getAttribute("itemId");t&&(void 0!==submenuSizes[t]&&e.setAttribute("submenu-size",submenuSizes[t]),void 0!==submenuDirections[t]&&e.setAttribute("submenu-direction",submenuDirections[t]),void 0!==submenuColumns[t]&&e.setAttribute("submenu-columns",submenuColumns[t])),mmAddClasses(e,n.common),mmChildren(e,function(e){"A"==e.nodeName&&mmAddClasses(e,u.common)})},!0),mmForEach(e,".buddha-menu-item[countdown]",function(e){initCountdown(jQueryBuddha(e))}),mmForEach(e,".buddha-menu-item>a>.mm-label",function(e){e.classList.add("mm-hidden")}),mmForEach(e,".mm-sold-out",function(e){var t=e.parentNode.querySelector(".mm-add-to-cart");t&&(t.style.display="none")}),mmForEach(e,".get-collection-image",function(e){var t=e.getAttribute("data-id");if(void 0!=collectionImages[t]&&-1==collectionImages[t].indexOf("no-image")&&null==e.getAttribute("customimage")){var n=e.closest("li[submenu-columns]"),a=e.closest("li[image-type]");n&&(n=n.getAttribute("submenu-columns")),a&&(a=a.getAttribute("image-type")),n=null==n?1:n,null!=a&&-1!=a.indexOf("crop")&&n++;var u=[320,640,960,1280,-1,-1],i=u[n-1],m=collectionImages[t][2];if(-1!=i?(collectionImages[t][0]=collectionImages[t][0].replace("_240x.","_"+i+"x."),m=collectionImages[t][2]/collectionImages[t][1]*i):collectionImages[t][0]=collectionImages[t][0].replace("_240x.","."),e.setAttribute("data-src",collectionImages[t][0]),e.setAttribute("shopifyimg",""),null!=e.closest(".mm-image")){e.style.height=m+"px";var o=e.closest(".mm-image");o&&(o.style.height=m+"px")}}}),mmForEach(e,".get-product-image",function(e){var t=e.getAttribute("data-id");if(void 0!=productImageAndPrice[t]&&-1==productImageAndPrice[t][0].indexOf("no-image")&&null==e.getAttribute("customimage")){var n=e.closest("li[submenu-columns]"),a=e.closest("li[image-type]");n&&(n=n.getAttribute("submenu-columns")),a&&(a=a.getAttribute("image-type")),n=null==n?1:n,null!=a&&-1!=a.indexOf("crop")&&n++;var u=[320,640,960,1280,-1,-1],i=u[n-1],m=productImageAndPrice[t][2];if(-1!=i?(productImageAndPrice[t][0]=productImageAndPrice[t][0].replace("_240x.","_"+i+"x."),m=productImageAndPrice[t][2]/productImageAndPrice[t][1]*i):productImageAndPrice[t][0]=productImageAndPrice[t][0].replace("_240x.","."),e.setAttribute("data-src",productImageAndPrice[t][0]),e.setAttribute("shopifyimg",""),null!=e.closest(".mm-image")){e.style.height=m+"px";var o=e.closest(".mm-image");o&&(o.style.height=m+"px")}}if(void 0!=productImageAndPrice[t]){var r=e.closest("li");if(r){var l=r.querySelector("form>input[name=id]");l&&l.setAttribute("value",productImageAndPrice[t][4])}}}),mmForEach(e,".mm-image img:not([shopifyimg])",function(e){var t=e.closest("li[image-type]");if(t){var n=t.getAttribute("image-width"),a=t.getAttribute("image-height");if(null!=n&&null!=a&&0!=n){var u=t.getAttribute("submenu-columns"),i=t.getAttribute("image-type");u=null==u?1:u,null!=i&&-1!=i.indexOf("crop")&&u++;var m=[320,640,960,1280,-1,-1],o=m[u-1],r=a/n*o;e.style.height=r+"px";var l=e.closest(".mm-image");l&&(l.style.height=r+"px")}}}),mmForEach(e,"img[data-src]",function(e){e.classList.add("mmLazyload")}),mmForEach(e,".mm-contact.mm-no-business-info",function(e){var t=e.closest(".buddha-menu-item");t&&null==t.getAttribute("submenu-size")&&t.setAttribute("submenu-size",600)}),document.documentMode&&(tempMenuObject.ul.find(".mm-product-list img").each(function(){var e=jQueryBuddha(this),t="url("+e.attr("data-src")+")",n=e.parent(),a=jQueryBuddha("<div></div>");n.append(a),a.css({height:"50px",width:"50px","background-size":"cover","background-repeat":"no-repeat","background-position":"50% 50%","background-image":t}),e.hide()}),mmAddStyle(".buddha-menu-item .mm-image a {width:100% !important; height: 100% !important;}","mmIE11Fix")),o)for(var i=0;i<o.length;i++)o[i].setAttribute("style","")}else console.log("Megamenu ERROR - wireframe missing.");if(n.first||u.first||n.last||u.last){var r=e.querySelectorAll(".buddha-menu-item");if(r.length){mmAddClasses(r[0],n.first),mmAddClasses(r[r.length-1],n.last);var l=r[0].querySelector("a");l&&mmAddClasses(l,u.first);var l=r[r.length-1].querySelector("a");l&&mmAddClasses(l,u.last)}}if(n.active||u.active)for(var i=0;i<t.length;i++){var l=t[i].querySelector("a");l&&l.getAttribute("data-href")==window.location.pathname&&(mmAddClasses(l,u.active),mmAddClasses(t[i],n.active))}if("undefined"!=typeof mmThemeFixesAfter&&0==disableThemeScript&&-1==mmThemeFixesAfter.call(e))return;if("undefined"!=typeof mmCustomerFixesAfter&&-1==mmCustomerFixesAfter.call(e))return;mmForEach(document,'input[type="search"],input[type="text"]',function(e){e.classList.add("stop-mega-menu-reinit")});var d=document.querySelector(".dl-menu");d&&setTimeout(function(){document.addEventListener("toggleSubmenu",function(){setTimeout(function(){d.classList.add("dl-menuopen")},1)})},100),"undefined"!=typeof timber&&void 0!==timber.alignMenu&&(timber.alignMenu=function(){});var s=getUlPath(e),c=!1;if(-1==ulPaths.indexOf(s)){for(var i=0;i<ulPaths.length;i++)-1!==s.indexOf(ulPaths[i])&&(c=!0);c||(ulPaths[ulPaths.length]=s)}tempMenuObject={}}else mmForEach(document,".buddha-transparent",function(e){e.classList.remove("buddha-transparent")})}),mmForEach(document,".buddha-disabled-menu",function(e){e.classList.remove("buddha-disabled-menu")}),mmRemove("#mmHideOriginalMenuStyle");for(var n=0;n<ulPaths.length;n++)livIconsOptionsCache[ulPaths[n]]={opt:"",optMain:"",optBg:""},reinitMenus(ulPaths[n]);addTouch()}if(window.self!==window.top){var m=parent;void 0===parent.postMessage&&(m=top),m.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"*")}else previewPanelLoaded&&document.getElementById("mega-menu-iframe").contentWindow.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"https://buddhaapps.com");setTimeout(function(){"undefined"!=typeof mutationExceptions&&mutationExceptions.pop()},100)}catch(e){mmErrorLog(e)}}function addUpdateLivIcons(e){var t=document.querySelector(e);if(t){var n=t.querySelectorAll(".mm-icon.dynamic");if(n){var a=t.querySelector(".buddha-menu-item>a");if(a){var u,i,m,o=window.getComputedStyle(a).getPropertyValue("color");t.matches(".horizontal-mega-menu")?(u={strokeColor:livIconsOptions.horizontalColor,colorsOnHover:"custom",strokeColorAction:livIconsOptions.horizontalHover,eventOn:"parent"},i={strokeColor:o,eventOn:"parent"},m={strokeColor:livIconsOptions.horizontalBackgroundImageColor,colorsOnHover:"custom",strokeColorAction:livIconsOptions.horizontalHover,eventOn:"parent"}):(u={strokeColor:livIconsOptions.verticalColor,colorsOnHover:"custom",strokeColorAction:livIconsOptions.verticalHover,eventOn:"parent"},i={strokeColor:o,eventOn:"parent"},m=u);var r=!1,l=JSON.stringify(u),d=JSON.stringify(i),s=JSON.stringify(m);l!=livIconsOptionsCache[e].opt&&(livIconsOptionsCache[e].opt=l,r=!0),d!=livIconsOptionsCache[e].optMain&&(livIconsOptionsCache[e].optMain=d,r=!0),s!=livIconsOptionsCache[e].optBg&&(livIconsOptionsCache[e].optBg=s,r=!0);for(var c=0;c<n.length;c++){var h=u;n[c].matches(".buddha-menu-item>a>.mm-icon")?h=i:n[c].closest(".backgroundImage")&&(h=m),n[c].matches(".livicon-evo-holder")?r&&jQueryBuddha(n[c]).updateLiviconEvo(h):jQueryBuddha(n[c]).addLiviconEvo(h)}}}}}function mmEvtEnterMmi(e){var t=e.target;setSubmenuBoundries(jQueryBuddha(t)),setContactSubmenuBoundries(jQueryBuddha(t));var n=t.querySelector(".tab-opened");n&&setTabbedSubmenuBoundries(jQueryBuddha(n))}function mmEvtEnterTabbedLi(e){var t=e.target;mmForEach(t.parentNode,".tab-opened",function(e){e.classList.remove("tab-opened")}),t.classList.add("tab-opened"),setTabbedSubmenuBoundries(jQueryBuddha(t))}function reinitMenus(e,t){mmForEach(document,e,function(n){var a=n.querySelectorAll(".buddha-menu-item"),u=null!=document.querySelector(mmVerticalMenus)&&n.matches(mmVerticalMenus);if(t=void 0!==t?t:"auto",0!=mmDisableVisibleCheck||0!=mmVerticalMenus&&!u||mmIsVisible(n)||"auto"!=t){var i=mmForEach(n,".buddha-menu-item>.mm-submenu",function(e){e.setAttribute("style","display: none !important;")},!0),m=1e3,o=document.querySelector("body");o&&(m=o.innerWidth);var r=1;if(null!=document.querySelector(mmHorizontalMenus)&&n.matches(mmHorizontalMenus))t="horizontal";else if(u)t="vertical";else for(var l,d=0;d<a.length;d++){var s=a[d].offsetTop;l=void 0==l?s:l,(s>l+5||s<l-5)&&r++,l=s}if((r!=a.length||1==r&&m>verticalMenuMaxWidth)&&0==forceMobile&&"vertical"!=t||"horizontal"==t){n.classList.add("horizontal-mega-menu"),n.classList.remove("vertical-mega-menu"),mmForEach(n,".submenu-opened",function(e){e.classList.remove("submenu-opened")}),mmForEach(n,".buddha-menu-item > a > .mm-label",function(e){e.classList.remove("mm-hidden")}),mmForEach(n,".buddha-menu-item[countdown] > a > .mm-label",function(e){null==e.parentNode.parentNode.querySelector(".mm-submenu")&&e.setAttribute("style","left: 0px !important;")}),mmSetSmBoundriesOnReinit&&setTimeout(function(){for(var e=0;e<a.length;e++)setSubmenuBoundries(jQueryBuddha(a[e])),setContactSubmenuBoundries(jQueryBuddha(a[e]))},1),mmForEach(n,"ul.mm-submenu.tabbed>li",function(e){null==e.parentNode.querySelector(".tab-opened")?(e.classList.add("tab-opened"),mmSetSmBoundriesOnReinit&&setTabbedSubmenuBoundries(jQueryBuddha(e))):e.classList.contains("tab-opened")&&mmSetSmBoundriesOnReinit&&setTabbedSubmenuBoundries(jQueryBuddha(e))}),mmForEach(n,"ul.mm-submenu.tabbed>li",function(e){e.removeEventListener("mouseenter",mmEvtEnterTabbedLi),e.addEventListener("mouseenter",mmEvtEnterTabbedLi)}),mmForEach(n,"ul.mm-submenu.tabbed>li:first-child",function(e){null==e.parentNode.querySelector(".tab-opened")&&(e.classList.add("tab-opened"),setTabbedSubmenuBoundries(jQueryBuddha(e)))});for(var d=0;d<a.length;d++)a[d].removeEventListener("mouseenter",mmEvtEnterMmi),a[d].addEventListener("mouseenter",mmEvtEnterMmi)}else if(activateMegaMenu){mmForEach(n,".mega-hover",function(e){e.classList.remove("mega-hover")});for(var d=0;d<a.length;d++)a[d].classList.remove("disabled");n.classList.add("vertical-mega-menu"),n.classList.remove("horizontal-mega-menu"),mmForEach(n,".toggle-menu-btn",function(e){e.classList.add("fa-visible")}),mmForEach(n,".buddha-menu-item > a .mm-label",function(e){e.classList.remove("mm-hidden")}),mmForEach(n,".submenu-opened",function(e){e.classList.remove("submenu-opened"),e.classList.remove("height-transition"),e.setAttribute("style","")}),mmForEach(n,".toggle-menu-btn>.mm-cross",function(e){e.classList.remove("mm-cross")});var c=0,h=0,g=0,b=0;if(a.length){var p=window.getComputedStyle(a[0]),f=window.getComputedStyle(a[0].querySelector("a"));c=p.getPropertyValue("padding-left"),h=f.getPropertyValue("padding-left"),g=f.getPropertyValue("padding-top"),b=f.getPropertyValue("margin-top")}var v=parseInt(c)+parseInt(h);v<=15&&(v=15);for(var y=parseInt(g)+parseInt(b)+5,B="",j=v+25,w=".vertical-mega-menu>.buddha-menu-item>.mm-submenu.tree",d=1;d<8;d++)B+=w+">li>a{margin-left: "+j+"px !important;} ",B+=w+">li{padding-bottom: 5px !important; padding-top: 5px !important; box-sizing: border-box !important;} ",j+=10,w+=">li>.mm-submenu.tree";var Q="";Q+=e+".vertical-mega-menu>li ul.mm-submenu.tree>li>a>.toggle-menu-btn{right:"+v+"px !important;}",Q+=e+".vertical-mega-menu>li ul.mm-submenu.tree>li>a { padding-right: "+(v+28)+"px !important; }",Q+=e+".vertical-mega-menu>li ul.mm-submenu.tree.mm-last-level>li>a{ padding-right: "+v+"px !important; }",Q+=e+".vertical-mega-menu>li ul.mm-submenu.simple>li.mm-left-item{padding-left:"+v+"px !important;}",Q+=e+".vertical-mega-menu>li ul.mm-submenu.simple>li.mm-right-item{padding-right:"+v+"px !important;}",Q+=e+".vertical-mega-menu>li>ul.mm-submenu.tabbed>li{padding-left:"+v+"px !important;padding-right:"+v+"px !important;}",Q+=e+".vertical-mega-menu>li>ul.mm-submenu.tabbed>li>ul.mm-submenu>li.mm-left-item {padding-left: 0px !important;}",Q+=e+".vertical-mega-menu>li>ul.mm-submenu.tabbed>li>ul.mm-submenu>li.mm-right-item {padding-right: 0px !important;}",Q+=e+".vertical-mega-menu>li ul.mm-submenu.mm-contact>li{padding-left:"+v+"px !important;padding-right:"+v+"px !important;}",Q+=e+".vertical-mega-menu>li>ul.mm-submenu.tabbed>li>ul.mm-submenu.simple { padding-left:"+v+"px !important; padding-right:"+v+"px !important; margin-left:-"+v+"px !important; margin-right:-"+v+"px !important; }", Q+=e+".vertical-mega-menu .buddha-menu-item > a > .toggle-menu-btn { right:"+v+"px !important; top: "+y+"px !important;}",Q+=B,mmAddStyle(Q,"verticalMenuSpacing"),mmForEach(n,".tab-opened",function(e){e.classList.remove("tab-opened")}),forceMobile=!1}if(mmLivIcons&&(void 0!==jQueryBuddha.fn.addLiviconEvo?addUpdateLivIcons(e):(console.log("livicons retry"),setTimeout(function(){void 0!==jQueryBuddha.fn.addLiviconEvo?addUpdateLivIcons(e):console.log("liv err")},300))),panelOpened?(jQueryBuddha(".horizontal-mega-menu>.buddha-menu-item").unbind("mouseenter.addMegaHoverClass"),jQueryBuddha(".horizontal-mega-menu>.buddha-menu-item").bind("mouseenter.addMegaHoverClass",function(){if(jQueryBuddha(".mega-hover").removeClass("mega-hover"),panelOpened&&(jQueryBuddha(this).addClass("mega-hover"),window.self!==window.top)){var e=parent;void 0===parent.postMessage&&(e=top);var t=jQueryBuddha(".buddha-menu-item.mega-hover").attr("itemId");e.postMessage(["updateMainMenuItemSelect",t],"*")}})):jQueryBuddha(".mega-hover").removeClass("mega-hover"),i)for(var d=0;d<i.length;d++)i[d].setAttribute("style","")}})}function renderMobileMenuForce(e){reinitMenus(e,"vertical")}function concatClasses(e,t){var n=[];return t&&""!=t&&(n=t.split(" ")),e&&""!=e&&(e=e.split(" "),jQueryBuddha.each(e,function(e,t){-1==jQueryBuddha.inArray(t,n)&&(n[n.length]=t)})),n.join(" ")}function getSpecificClasses(e){var t=[];if(void 0!=e){e=e.split(" ");var n="";jQueryBuddha.each(e,function(e,a){-1!=a.indexOf("active")||-1!=a.indexOf("selected")||-1!=a.indexOf("current")?t.active=a:-1!=a.indexOf("focus")?t.focus=a:-1!=a.indexOf("first")?t.first=a:-1!=a.indexOf("last")?t.last=a:-1==a.indexOf("buddha")&&-1==a.indexOf("dropdown")&&-1==a.indexOf("mm-subopen")&&-1==a.indexOf("hidden")&&-1==a.indexOf("hide")&&(n+=" "+a)}),t.common=n.trim()}return t}function undoAction(){if(currentUndo=undo[undo.length-1],"design"==currentUndo.action&&(redo.unshift(currentUndo),schemaDesignJSON.splice(-1,1),undo.splice(-1,1),recreateDesign()),0==jQueryBuddha(".buddha-menu-item").length&&jQueryBuddha("#themeScript").remove(),window.self!==window.top){var e=parent;void 0===parent.postMessage&&(e=top),e.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"*")}else previewPanelLoaded&&document.getElementById("mega-menu-iframe").contentWindow.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"https://buddhaapps.com")}function redoAction(){if(tempMenuObject={},jQueryBuddha(".buddha-transparent").removeClass("buddha-transparent"),action=redo[0].action,"design"==action&&(schemaDesignJSON.push(redo[0]),undo.push(redo[0]),recreateDesign()),redo.splice(0,1),0==jQueryBuddha(".buddha-menu-item").length&&jQueryBuddha("#themeScript").remove(),window.self!==window.top){var e=parent;void 0===parent.postMessage&&(e=top),e.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"*")}else previewPanelLoaded&&document.getElementById("mega-menu-iframe").contentWindow.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"https://buddhaapps.com")}function clearAction(){if(jQueryBuddha.each(undo,function(e,t){undoAction()}),redo=[],0==jQueryBuddha(".buddha-menu-item").length&&jQueryBuddha("#themeScript").remove(),window.self!==window.top){var e=parent;void 0===parent.postMessage&&(e=top),e.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"*")}else previewPanelLoaded&&document.getElementById("mega-menu-iframe").contentWindow.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"https://buddhaapps.com")}function liveDesign(e,t){if(-1!==e.indexOf("main_menu_item_size_")){var n=e.replace("main_menu_item_size_",""),a=jQueryBuddha('.horizontal-mega-menu>li[itemId="'+n+'"]');"auto"==t?(a.removeAttr("submenu-size"),delete submenuSizes[n],0==a.find(".mm-contact").length?setSubmenuBoundries(a):setContactSubmenuBoundries(a)):(t=parseInt(t),a.attr({"submenu-size":t}),submenuSizes[n]=t,0==a.find(".mm-contact").length?setSubmenuBoundries(a,t):setContactSubmenuBoundries(a,t))}else if(-1!==e.indexOf("main_menu_item_columns_")){var n=e.replace("main_menu_item_columns_",""),a=jQueryBuddha('.horizontal-mega-menu>li[itemId="'+n+'"]');"auto"==t?(a.removeAttr("submenu-columns"),delete submenuColumns[n],0==a.find(".mm-contact").length?setSubmenuBoundries(a):setContactSubmenuBoundries(a)):(a.attr({"submenu-columns":t}),submenuColumns[n]=t,0==a.find(".mm-contact").length?setSubmenuBoundries(a):setContactSubmenuBoundries(a))}else{jQueryBuddha("#tempStyle").remove();var u='<style id="tempStyle" type="text/css">';void 0!==propSettings[e]&&(u+=propSettings[e].element+"{"+propSettings[e].attribute+":"+t+" !important; }"),u+=customPropSettingsStyles(e,t),u+="</style>",jQueryBuddha("head").append(u)}}function updateDesign(e,t){if(jQueryBuddha("#tempStyle").remove(),-1===e.indexOf("main_menu_item_size_")&&-1===e.indexOf("main_menu_item_columns_")||"auto"!=t)u={},u.action="design",u.setting=e,u.value=t,defaultFontSelected=!1,"font_family"==u.setting&&"Default"==u.value&&(defaultFontSelected=!0),schemaDesignJSON.push(u),undo.push(u);else{for(var n=[],a=schemaDesignJSON.length-1;a>=0;a--){var u=schemaDesignJSON[a];"design"==u.action&&u.setting==e||n.push(u)}schemaDesignJSON=n}if(recreateDesign(e),"font_size"!=e&&"font_family"!=e&&-1===e.indexOf("main_menu_item_columns_")||jQueryBuddha(".horizontal-mega-menu>.buddha-menu-item>.mm-submenu").each(function(){var t=jQueryBuddha(this);if(parseInt(t.css("top"))>0){var n=10;"font_family"!=e&&"font_size"!=e||(n=300),setTimeout(function(){setSubmenuBoundries(t.parent()),setContactSubmenuBoundries(t.parent()),t.hasClass("tabbed")&&setTabbedSubmenuBoundries(t.find(">li.tab-opened"))},n)}}),-1!==e.indexOf("main_menu_item_columns_")){var i=e.replace("main_menu_item_columns_","");jQueryBuddha('.horizontal-mega-menu>li[itemId="'+i+'"]').find(">.mm-submenu.tabbed").length>0&&(u.type="tabbed")}if(clearTimeout(reinitAfterDesignTimeout),reinitAfterDesignTimeout=setTimeout(function(){},100),redo=[],window.self!==window.top){var m=parent;void 0===parent.postMessage&&(m=top),m.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"*")}else previewPanelLoaded&&document.getElementById("mega-menu-iframe").contentWindow.postMessage(["updateToolbar",JSON.stringify(schemaDesignJSON),JSON.stringify(linkLists),JSON.stringify(undo),JSON.stringify(redo),changedMenu],"https://buddhaapps.com")}function recreateDesign(e){var t="",n=[];if(window.self!==window.top&&void 0!==e)for(var a=[],u=schemaDesignJSON.length-1;u>=0;u--){var i=schemaDesignJSON[u];"design"==i.action&&-1==a.indexOf(i.setting)?(a[a.length]=i.setting,n.push(i)):"menu-select"==i.action&&n.push(i)}else n=schemaDesignJSON;jQueryBuddha.each(n,function(e,n){if("design"==n.action&&void 0!=propSettings[n.setting]){if("font_size"==n.setting)fontSize=parseInt(n.value);else if("font_family"==n.setting){if(jQueryBuddha("#googleFontDesign").remove(),"Default"!=n.value&&"Arial"!=n.value&&"Georgia"!=n.value&&"Tahoma"!=n.value&&"Trebuchet MS"!=n.value&&"Times New Roman"!=n.value&&"Verdana"!=n.value){var a='<link href="//fonts.googleapis.com/css?family='+n.value+'" id="googleFontDesign" rel="stylesheet" type="text/css">';jQueryBuddha("head").append(a)}}else if("vertical_font_family"==n.setting){if(jQueryBuddha("#googleFontDesignVertical").remove(),"Default"!=n.value&&"Arial"!=n.value&&"Georgia"!=n.value&&"Tahoma"!=n.value&&"Trebuchet MS"!=n.value&&"Times New Roman"!=n.value&&"Verdana"!=n.value){var a='<link href="//fonts.googleapis.com/css?family='+n.value+'" id="googleFontDesignVertical" rel="stylesheet" type="text/css">';jQueryBuddha("head").append(a)}}else"text_color"==n.setting?livIconsOptions.horizontalColor=n.value:"link_hover_color"==n.setting?livIconsOptions.horizontalHover=n.value:"background_image_text_color"==n.setting?livIconsOptions.horizontalBackgroundImageColor=n.value:"vertical_text_color"==n.setting?livIconsOptions.verticalColor=n.value:"vertical_link_hover_color"==n.setting&&(livIconsOptions.verticalHover=n.value);("font_family"!=n.setting||"font_family"==n.setting&&!defaultFontSelected&&"Default"!=n.value)&&(t+=propSettings[n.setting].element+"{"+propSettings[n.setting].attribute+": "+n.value+" !important; }")}else if("design"==n.action&&-1!==n.setting.indexOf("main_menu_item_direction_")){var u=n.setting.replace("main_menu_item_direction_",""),i=jQueryBuddha('.horizontal-mega-menu>li[itemId="'+u+'"]');i.attr({"submenu-direction":n.value}),submenuDirections[u]=n.value,window.self!==window.top&&(0==i.find(".mm-contact").length?setSubmenuBoundries(i,!1,n.value):setContactSubmenuBoundries(i,!1,n.value))}"design"==n.action&&(t+=customPropSettingsStyles(n.setting,n.value))}),mmAddStyle(t,"previewStyle"),mmLivIcons&&window.self!==window.top&&void 0!==typeof e&&"text_color,link_hover_color,vertical_text_color,vertical_link_hover_color,background_image_text_color,".indexOf(e+",")>=0&&jQueryBuddha.each(ulPaths,function(e,t){void 0===livIconsOptionsCache[t]&&(livIconsOptionsCache[t]={opt:"",optMain:"",optBg:""}),addUpdateLivIcons(t)})}function designPanelOpened(e){var t;if(e&&void 0!==e){if("custom_addtocart"==e){var n=0;e=null,jQueryBuddha(".horizontal-mega-menu:visible .buddha-menu-item").each(function(){var a=jQueryBuddha(this).find(".mm-add-to-cart").length;a&&void 0!==a&&a>n&&(n=a,e=jQueryBuddha(this).attr("itemId"),t=jQueryBuddha(this).find(".mm-add-to-cart").first().closest(".mm-submenu.tabbed>li"))})}else if("custom_labels"==e){var n=0;e=null,jQueryBuddha(".horizontal-mega-menu:visible .buddha-menu-item").each(function(){var a=jQueryBuddha(this).find(".mm-label").length;a&&void 0!==a&&a>n&&(n=a,e=jQueryBuddha(this).attr("itemId"),t=jQueryBuddha(this).find(".mm-label").first().closest(".mm-submenu.tabbed>li"))})}else if("custom_contact"==e)e=jQueryBuddha(".horizontal-mega-menu:visible").find(".mm-contact").first().closest(".buddha-menu-item").attr("itemId");else if("custom_fonts"==e){var a=jQueryBuddha(".horizontal-mega-menu:visible .mm-submenu.simple").first();0==a.length&&(a=jQueryBuddha(".horizontal-mega-menu:visible .mm-submenu").first()),e=a.closest(".buddha-menu-item").attr("itemId")}else"price_color"==e&&(e=jQueryBuddha(".horizontal-mega-menu:visible").find(".mega-menu-prices").first().closest(".buddha-menu-item").attr("itemId"));if(e&&void 0!=typeof e&&!jQueryBuddha('.horizontal-mega-menu:visible>.buddha-menu-item[itemId="'+e+'"]').is(".mega-hover")&&(jQueryBuddha(".mega-hover").removeClass("mega-hover"),jQueryBuddha('.horizontal-mega-menu:visible>.buddha-menu-item[itemId="'+e+'"]').addClass("mega-hover"),window.self!==window.top)){var u=parent;void 0===parent.postMessage&&(u=top),u.postMessage(["updateMainMenuItemSelect",e,"true"],"*")}}else panelOpened=!0,jQueryBuddha("ul.mm-submenu.tabbed").length>0?jQueryBuddha(".horizontal-mega-menu:visible>.buddha-menu-item>ul.mm-submenu.tabbed").each(function(){return jQueryBuddha(this).closest(".buddha-menu-item").addClass("mega-hover"),!1}):jQueryBuddha("ul.mm-submenu.simple").length>0?jQueryBuddha(".horizontal-mega-menu:visible>.buddha-menu-item>ul.mm-submenu.simple").each(function(){return jQueryBuddha(this).closest(".buddha-menu-item").addClass("mega-hover"),!1}):jQueryBuddha("ul.mm-submenu.contact").length>0?jQueryBuddha(".horizontal-mega-menu:visible>.buddha-menu-item>ul.mm-submenu.contact").each(function(){return jQueryBuddha(this).closest(".buddha-menu-item").addClass("mega-hover"),!1}):jQueryBuddha("ul.mm-submenu.tree").length>0&&jQueryBuddha(".horizontal-mega-menu:visible>.buddha-menu-item>ul.mm-submenu.tree").each(function(){return jQueryBuddha(this).closest(".buddha-menu-item").addClass("mega-hover"),!1});if(setSubmenuBoundries(jQueryBuddha(".buddha-menu-item.mega-hover")),setContactSubmenuBoundries(jQueryBuddha(".buddha-menu-item.mega-hover")),t&&void 0!=typeof t?(t.parent().find(">.tab-opened").removeClass("tab-opened"),t.addClass("tab-opened"),setTabbedSubmenuBoundries(t)):jQueryBuddha("ul.mm-submenu.tabbed").length>0&&setTabbedSubmenuBoundries(jQueryBuddha(".buddha-menu-item.mega-hover>ul.mm-submenu.tabbed>li.tab-opened").length>0?jQueryBuddha(".buddha-menu-item.mega-hover>ul.mm-submenu.tabbed>li.tab-opened"):jQueryBuddha(".buddha-menu-item.mega-hover>ul.mm-submenu.tabbed>li:first-child")),jQueryBuddha(".horizontal-mega-menu>.buddha-menu-item").unbind("mouseenter.addMegaHoverClass"),jQueryBuddha(".horizontal-mega-menu>.buddha-menu-item").bind("mouseenter.addMegaHoverClass",function(){if(jQueryBuddha(".mega-hover").removeClass("mega-hover"),panelOpened&&(jQueryBuddha(this).addClass("mega-hover"),window.self!==window.top)){var e=parent;void 0===parent.postMessage&&(e=top);var t=jQueryBuddha(".buddha-menu-item.mega-hover").attr("itemId");e.postMessage(["updateMainMenuItemSelect",t],"*")}}),!e&&window.self!==window.top){var u=parent;void 0===parent.postMessage&&(u=top);var i=jQueryBuddha(".buddha-menu-item.mega-hover").attr("itemId");u.postMessage(["updateMainMenuItemSelect",i],"*")}}function initSaving(){jQueryBuddha(".buddha-loader-wrapper").show(),jQueryBuddha(".buddha-loader-text").show(),saving=!0}function toggleSubmenu(e){if(!submenuToggled){submenuToggled=!0;var t=jQueryBuddha(e),n=t.closest("li").find("ul.mm-submenu").first(),a=0;if(n.hasClass("submenu-opened"))slideUpTransition(n),t.closest("li").find(".toggle-menu-btn>span").removeClass("mm-cross"),setTimeout(function(){t.closest("li").find(".mm-hovering").removeClass("mm-hovering"),t.closest("li").removeClass("mm-hovering"),t.closest("li").find(".submenu-opened").removeClass("submenu-opened"),n.find(">li.mmBounceInUp").removeClass("mmBounceInUp")},600);else{t.closest("li").addClass("mm-hovering"),t.find(">span").addClass("mm-cross"),n.addClass("submenu-opened height-transition");var u=0;n.is(".simple")&&setSubmenuBoundries(t.closest("li")),a=slideDownTransition(n),setTimeout(function(){slideDownTransition(n)},600);var i=parseInt(n.attr("columns")),m=0,o=!0;n.find(">li").each(function(e){var t=jQueryBuddha(this);t.removeClass("mm-left-item").removeClass("mm-right-item"),void 0==t.attr("submenu-columns")||1==t.attr("submenu-columns")?m+=1:t.attr("submenu-columns")>1&&(t.attr("submenu-columns")>=i?m+=i:m+=parseInt(t.attr("submenu-columns"))),2!=i||1!=t.attr("submenu-columns")&&void 0!=t.attr("submenu-columns")||void 0===t.attr("item-type")||-1==jQueryBuddha.inArray(t.attr("item-type"),["best-sellers","newest-products","link-list","link-list-image"])||(m+=1),t.closest(".mm-submenu.tree").length>0&&(m+=1);var n=t.next(),a=parseInt(n.attr("submenu-columns"));2!=i||1!=n.attr("submenu-columns")&&void 0!=n.attr("submenu-columns")||void 0===n.attr("item-type")||-1==jQueryBuddha.inArray(n.attr("item-type"),["best-sellers","newest-products","link-list","link-list-image"])||(a+=1),m+a>i&&(m=i),setTimeout(function(){t.addClass("mmBounceInUp")},u),t.closest(".mm-submenu.simple").length>0&&(m-i==0&&t.addClass("mm-right-item"),o&&(t.addClass("mm-left-item"),o=!1)),m-i==0&&(u+=150,m=0,o=!0)})}setTimeout(function(){submenuToggled=!1},600),jQueryBuddha(document).trigger("toggleSubmenu",[e,a])}return!1}function mmGoToPage(e,t){if(!changingPage&&!submenuToggled&&!mmTouchMoved){var n=window.location.hostname.replace("www.",""),a=n.substr(0,n.indexOf("."))+".",u=e.getAttribute("data-href");if(u&&"no-link"!=u)if(-1!==u.indexOf("http")&&-1===u.indexOf(a)&&-1===u.indexOf("myshopify.com")){changingPage=!0;var i=window.open(u,"_blank");i.focus(),setTimeout(function(){changingPage=!1},300)}else changingPage=!0,window.location=u,setTimeout(function(){changingPage=!1},1e3);else t.stopPropagation()}return!1}function setImageContainerDimensions(e){var t=e.find(".mm-image-container img");if(void 0!==t&&void 0!==jQueryBuddha(t)[0]){var n=jQueryBuddha(e).closest(".vertical-mega-menu").length>0,a=e.attr("image-type"),u=jQueryBuddha(t)[0].naturalWidth,i=jQueryBuddha(t)[0].naturalHeight;if(0!==u&&0!==i){jQueryBuddha(e).find(".mm-image img, .mm-image, .mm-image-container").removeAttr("style");var m;m=a.indexOf("-full")>=0?e.find(".mm-image-container").get(0).getBoundingClientRect():e.find(".mm-image-container .mm-image").get(0).getBoundingClientRect();var o=m.width,r=m.height;if(a.indexOf("fit-")>=0){if(i>r){var l=i/r;u/=l,i/=l}if(u>o){var l=u/o;u/=l,i/=l}}if(a.indexOf("crop-")>=0){var d=!1,s=o/r,c=u/i;if(c>3&&n&&(u/2>o&&i/2>=40?(i/=2,u/=2):u/1.5>o&&i/1.5>=40&&(i/=1.5,u/=1.5)),u>o&&(u=o),i>r&&(i=r),s>c?"crop-wide-full"==a?(e.attr("image-type","crop-high-full"),d=!0):"crop-wide"==a&&(e.attr("image-type","crop-high"),d=!0):s<c&&("crop-high-full"==a?(e.attr("image-type","crop-wide-full"),d=!0):"crop-high"==a&&(e.attr("image-type","crop-wide"),d=!0)),d){u=jQueryBuddha(t)[0].naturalWidth,i=jQueryBuddha(t)[0].naturalHeight,c=u/i;var m;m=a.indexOf("-full")>=0?e.find(".mm-image-container").get(0).getBoundingClientRect():e.find(".mm-image-container .mm-image").get(0).getBoundingClientRect(),o=m.width,r=m.height,c>3&&n&&(u/2>o&&i/2>=40?(i/=2,u/=2):u/1.5>o&&i/1.5>=40&&(i/=1.5,u/=1.5)),u>o&&(u=o),i>r&&(i=r)}}e.find(".mm-image-container>.mm-image,.mm-image-container>.mm-label-wrap").css({width:u,height:i}),e.find(".mm-description").css({width:u})}}else setImageContainerDimensionsVideo(e)}function setImageContainerDimensionsVideo(e){var t=e.find(".mm-image-container .mm-video-player");if(void 0!==t&&void 0!==jQueryBuddha(t)[0]){var n=jQueryBuddha(t)[0].getBoundingClientRect(),a=Math.ceil(n.width),u=Math.ceil(n.height),i=e.find(".mm-image-container .mm-image"),m=(parseInt(i.width()),parseInt(i.height()));0!==a&&0!==u&&(jQueryBuddha(e).find(">ul.mm-submenu>li .mm-image img, >ul.mm-submenu>li .mm-image, >ul.mm-submenu>li .mm-label-wrap").removeAttr("style"),u>m?e.find(".mm-image-container>.mm-image,.mm-image-container>.mm-label-wrap").css({width:a,height:m}):e.find(".mm-image-container>.mm-image,.mm-image-container>.mm-label-wrap").css({width:a,height:u}),e.find(".mm-description").css({width:a}))}}function setSubmenuRowItemsHeight(e,t){var n=5,a=jQueryBuddha(e).closest(".vertical-mega-menu").length>0;a?n=t:jQueryBuddha(e).parent().is(".mm-submenu.tabbed")?n=jQueryBuddha(e).parent().attr("columns")-1:jQueryBuddha(e).find(">ul.mm-submenu.simple").length>0&&(n=jQueryBuddha(e).find(">ul.mm-submenu").attr("columns")),jQueryBuddha(e).find(">ul.mm-submenu>li .mm-featured-title, .mm-list-name").removeAttr("style");var u=0,i=0,m=jQueryBuddha(e).find(">ul.mm-submenu>li").length,o={},r={},l={},d={},s=[],c=0;jQueryBuddha(e).find(">ul.mm-submenu>li").each(function(){var h=jQueryBuddha(this),g=h.attr("submenu-columns");if(u++,a?(parseInt(h.attr("submenu-columns"))>=2?h.attr("submenu-columns")>=n?i+=n:i+=parseInt(h.attr("submenu-columns")):i+=1,2==t&&1==i&&void 0!==h.attr("item-type")&&-1!=jQueryBuddha.inArray(h.attr("item-type"),["best-sellers","newest-products","link-list","link-list-image"])&&(i+=1)):i+=parseInt(h.attr("submenu-columns")),void 0===o[h.attr("submenu-columns")]&&(o[g]=[],r[g]=0,l[g]=[],d[g]=0),-1!=jQueryBuddha.inArray(h.attr("item-type"),["featured-product","featured-collection","featured-article","featured-custom","video"])&&-1==jQueryBuddha.inArray(h.attr("image-type"),["fit-high-full","fit-wide-full","crop-high-full","crop-wide-full"])){var b=h.find(".mm-featured-title").height();d[g]<b&&(d[g]=b);var p=h.find(".mm-image-container").height();r[g]<p&&(r[g]=p),l[g].push(">ul.mm-submenu>li:nth-child("+u+") .mm-featured-title"),o[g].push(">ul.mm-submenu>li:nth-child("+u+") .mm-image-container")}else if(h.find(".mm-list-name").length>0){var f=h.find(".mm-list-name").outerHeight();f>c&&(c=f),s.push(">ul.mm-submenu>li:nth-child("+u+") .mm-list-name")}var v;if(a){var y=h.next(),v=parseInt(y.attr("submenu-columns"));(v>=2||2==t&&1==v&&void 0!==y.attr("item-type")&&-1!=jQueryBuddha.inArray(y.attr("item-type"),["best-sellers","newest-products","link-list","link-list-image"]))&&(v=2)}else v=parseInt(h.next().attr("submenu-columns"));(i%n==0||i+v>n||u==m)&&(jQueryBuddha.each(o,function(t,n){n.length>0&&jQueryBuddha(e).find(n.join(",")).css({height:r[t]})}),jQueryBuddha.each(l,function(t,n){n.length>0&&jQueryBuddha(e).find(n.join(",")).css({"min-height":d[t]})}),s.length>0&&jQueryBuddha(e).find(s.join(",")).css({height:c}),i=0,o={},r={},l={},d={},s=[],c=0)})}function setSubmenuRowItemsZindex(e,t){var n=!1,a=0,u=0,i=1,m=10;jQueryBuddha(e).find(">ul.mm-submenu>li").each(function(e){var o=jQueryBuddha(this),r=void 0!==jQueryBuddha(o).attr("submenu-columns")?parseInt(jQueryBuddha(o).attr("submenu-columns")):1;u+=r,n||1!=i||(n=void 0!==jQueryBuddha(o).attr("haslabel")),1==i&&u<=t&&(a=e),u>t&&(i++,u=r,m=10*i),o.attr("style","z-index: "+m+";"),m--}),n&&jQueryBuddha(e).find(">ul.mm-submenu>li").each(function(e){var t=jQueryBuddha(this);e<=a&&t.attr("style",t.attr("style")+" padding-top: 15px !important;")})}function setSubmenuImageAndHeightBoundries(e,t){setSubmenuRowItemsZindex(e,t),jQueryBuddha(e).find(">ul.mm-submenu>li").each(function(){var e=jQueryBuddha(this);e.find(".mm-image-container img,.mm-image-container .mm-video-player").length>0&&void 0==e.attr("image-type")&&e.attr({"image-type":"fit-high"}),-1!=jQueryBuddha.inArray(e.attr("image-type"),["fit-high","fit-wide","crop-high","crop-wide"])&&setImageContainerDimensions(e)}),setSubmenuRowItemsHeight(e,t),jQueryBuddha(e).find(">ul.mm-submenu>li").each(function(){var e=jQueryBuddha(this);-1!=jQueryBuddha.inArray(e.attr("image-type"),["fit-high-full","fit-wide-full","crop-high-full","crop-wide-full"])&&setImageContainerDimensions(e)})}function setSubmenuBoundries(e,t,n){var a=jQueryBuddha("body"),u=a.width(),i=a.length?a.offset().left:0,m=1e3,o=768,r=void 0!==jQueryBuddha(e).attr("submenu-columns");if(jQueryBuddha(e).find(">ul.mm-submenu.simple").length>0||jQueryBuddha(e).find(">ul.mm-submenu.tabbed").length>0)if(jQueryBuddha(e).closest(".horizontal-mega-menu").length>0){if(jQueryBuddha(e).parent().parents().each(function(){var e=jQueryBuddha(this).offset().left+parseInt(jQueryBuddha(this).css("padding-left"))-i;e<m&&e>0&&(m=e)}),(1e3==m||u<=768)&&(m=0),t&&void 0!==t||void 0===e.attr("submenu-size")||(t=e.attr("submenu-size")),n&&void 0!==n||void 0===e.attr("submenu-direction")||(n=e.attr("submenu-direction")),customHeaderOffset)m=customHeaderOffset<u?(u-customHeaderOffset)/2:0;else if(t){var o=0;void 0!==e.attr("submenu-columns")&&(5==e.attr("submenu-columns")?o=1e3:4==e.attr("submenu-columns")?o=800:3==e.attr("submenu-columns")?o=600:2==e.attr("submenu-columns")&&(o=400)),t<o&&(t=o),m=t<u?(u-t)/2:0}if(jQueryBuddha(e).find(">ul.mm-submenu.simple").length>0)var l=jQueryBuddha(e).find(">ul.mm-submenu.simple");else var l=jQueryBuddha(e).find(">ul.mm-submenu.tabbed");l.css({width:"auto",left:"auto",right:"auto","max-width":"none","min-width":"auto"}),2*m>u&&(m=0);var d=u-2*m;if(r){var s=e.attr("submenu-columns"),c=l.attr("style");c+="width:"+d+"px !important;",l.attr("style",c),"left"!=n&&"right"!=n||(s>4&&u<768?n="auto":s>3&&u<512?n="auto":s>2&&u<384&&(n="auto")),n&&void 0!==n&&"auto"!=n||(s>2&&u<462?s=2:s>3&&u<616?s=3:s>4&&u<768&&(s=4)),l.attr("columns",s),e.find(">ul.simple>li").each(function(){void 0!==jQueryBuddha(this).attr("submenu-columns")&&s<jQueryBuddha(this).attr("submenu-columns")&&(void 0==jQueryBuddha(this).attr("submenu-original-columns")&&jQueryBuddha(this).attr("submenu-original-columns",jQueryBuddha(this).attr("submenu-columns")),jQueryBuddha(this).attr("submenu-columns",s))}),e.find(">ul.simple>li").each(function(){void 0!==jQueryBuddha(this).attr("submenu-original-columns")&&s>=jQueryBuddha(this).attr("submenu-columns")&&jQueryBuddha(this).attr("submenu-original-columns")>jQueryBuddha(this).attr("submenu-columns")&&(jQueryBuddha(this).attr("submenu-columns",s),jQueryBuddha(this).attr("submenu-original-columns")==s&&jQueryBuddha(this).removeAttr("submenu-original-columns"))}),e.find(">ul.tabbed>li>ul.simple>li").each(function(){void 0!==jQueryBuddha(this).attr("submenu-columns")&&s-1<jQueryBuddha(this).attr("submenu-columns")&&(void 0==jQueryBuddha(this).attr("submenu-original-columns")&&jQueryBuddha(this).attr("submenu-original-columns",jQueryBuddha(this).attr("submenu-columns")),jQueryBuddha(this).attr("submenu-columns",s-1))}),e.find(">ul.tabbed>li>ul.simple>li").each(function(){void 0!==jQueryBuddha(this).attr("submenu-original-columns")&&s>=jQueryBuddha(this).attr("submenu-columns")&&jQueryBuddha(this).attr("submenu-original-columns")>jQueryBuddha(this).attr("submenu-columns")&&(jQueryBuddha(this).attr("submenu-columns",s-1),jQueryBuddha(this).attr("submenu-original-columns")==s-1&&jQueryBuddha(this).removeAttr("submenu-original-columns"))})}else{var s=5;if(("left"==n||"right"==n)&&u<768&&(n="auto"),d>=1020){var c=l.attr("columns",5).attr("style");c+="width:"+d+"px !important; min-width:400px !important;",l.attr("style",c),s=5}else if(d>=816){var c=l.attr("columns",4).attr("style");c+="width:"+d+"px !important; min-width:400px !important;",l.attr("style",c),s=4}else if(d>=612){var c=l.attr("columns",3).attr("style");c+="width:"+d+"px !important; min-width:400px !important;",l.attr("style",c),s=3}else{var c=l.attr("columns",2).attr("style");c+="width:"+d+"px !important; min-width:400px !important;",l.attr("style",c),s=2}5==s?o=1e3:4==s?o=800:3==s?o=600:2==s&&(o=400)}var h=jQueryBuddha(e).offset().left-i+jQueryBuddha(e).outerWidth()/2;if(n&&void 0!==n&&"auto"!=n){if("right"==n){var g=jQueryBuddha(e).offset().left+parseInt(jQueryBuddha(e).css("padding-left")),b=u-g+"px",p=0;parseInt(b)<parseInt(o)&&(p=parseInt(o)-parseInt(b)),l.css({left:-p+"px","max-width":b,"min-width":o})}else if("left"==n){var f=u-(jQueryBuddha(e).offset().left+jQueryBuddha(e).outerWidth()),b=u-f+"px",v=0;parseInt(b)<parseInt(o)&&(v=parseInt(o)-parseInt(b)),l.css({right:-v+"px","max-width":b,"min-width":o})}}else if(h<u/2){var p=u-(u-(jQueryBuddha(e).offset().left-i))-m;p<0&&(p=0),l.css({left:-p+"px"})}else{var v=u-(jQueryBuddha(e).offset().left-i)-jQueryBuddha(e).outerWidth()-m;v<0&&(v=0),l.css({right:-v+"px"})}jQueryBuddha(e).find(">ul.mm-submenu.tabbed").length>0&&--s,jQueryBuddha(e).find(">ul.mm-submenu.tabbed").length>0&&(jQueryBuddha(e).find("ul.mm-submenu.tabbed>li>a>i.mm-arrow").removeClass("mm-angle-left mm-angle-down mm-angle-right").addClass("mm-angle-right"),e=jQueryBuddha(e).find("ul.mm-submenu.tabbed>li.tab-opened").first()),setSubmenuImageAndHeightBoundries(e,s)}else{var y=jQueryBuddha(e).closest(".vertical-mega-menu").width();y<u-100&&(u=y),jQueryBuddha(e).find("ul.mm-submenu.tabbed").css({left:"auto",right:"auto"});var B=jQueryBuddha(e).find("ul.mm-submenu.tabbed").attr("style"),j="";j+=void 0!=B?B+";height:auto !important;width:auto !important":"height:auto !important;width:auto !important",jQueryBuddha(e).find("ul.mm-submenu.tabbed").attr("style",j),jQueryBuddha(e).find("ul.mm-submenu.simple").css({left:"auto",right:"auto"});var B=jQueryBuddha(e).find("ul.mm-submenu.simple").attr("style"),j="";j+=void 0!=B?B+";width:auto !important":";width:auto !important",jQueryBuddha(e).find("ul.mm-submenu.simple").attr("style",j),jQueryBuddha(e).find("ul.mm-submenu.simple>li").removeAttr("style");var s=2;r?(s=jQueryBuddha(e).closest(".buddha-menu-item").attr("submenu-columns"),(jQueryBuddha(e).find("ul.tabbed").length>0||jQueryBuddha(e).closest("ul.mm-submenu.tabbed").length>0)&&(jQueryBuddha(e).find('ul.mm-submenu.simple>li[submenu-columns="'+(parseInt(s)-1)+'"]').attr("submenu-columns",5),s=parseInt(s)+1),s>1&&u<400?s=1:s>2&&u<600?s=2:s>3&&u<800?s=3:s>4&&u<1e3&&(s=4),jQueryBuddha(e).find("ul.mm-submenu.simple").attr("columns",s),jQueryBuddha(e).find(">ul.simple>li").each(function(){void 0!==jQueryBuddha(this).attr("submenu-columns")&&s<jQueryBuddha(this).attr("submenu-columns")&&(void 0==jQueryBuddha(this).attr("submenu-original-columns")&&jQueryBuddha(this).attr("submenu-original-columns",jQueryBuddha(this).attr("submenu-columns")),jQueryBuddha(this).attr("submenu-columns",s))}),jQueryBuddha(e).find(">ul.simple>li").each(function(){void 0!==jQueryBuddha(this).attr("submenu-original-columns")&&s>=jQueryBuddha(this).attr("submenu-columns")&&jQueryBuddha(this).attr("submenu-original-columns")>jQueryBuddha(this).attr("submenu-columns")&&(jQueryBuddha(this).attr("submenu-columns",s),jQueryBuddha(this).attr("submenu-original-columns")==s&&jQueryBuddha(this).removeAttr("submenu-original-columns"))})):jQueryBuddha(e).width()>=600?(s=3,jQueryBuddha(e).find("ul.mm-submenu.simple").attr("columns",3),jQueryBuddha(".vertical-mega-menu ul.mm-submenu.mm-contact").attr("columns",2)):jQueryBuddha(e).width()>=400?(s=2,jQueryBuddha(e).find("ul.mm-submenu.simple").attr("columns",2),jQueryBuddha(".vertical-mega-menu ul.mm-submenu.mm-contact").attr("columns",2)):(s=1,jQueryBuddha(e).find("ul.mm-submenu.simple").attr("columns",1),jQueryBuddha(".vertical-mega-menu ul.mm-submenu.mm-contact").attr("columns",1)),jQueryBuddha(e).find(">ul.mm-submenu.simple").length>0&&setSubmenuImageAndHeightBoundries(e,s)}else if(jQueryBuddha(e).find("ul.mm-submenu.tree").length>0&&(jQueryBuddha(e).find("ul.mm-submenu").removeAttr("style"),0==jQueryBuddha(e).parents(".buddha-menu-item.mega-hover").length)){var h=jQueryBuddha(e).offset().left+jQueryBuddha(e).outerWidth()/2;h<u/2&&("auto"==e.attr("submenu-direction")||void 0==e.attr("submenu-direction"))||"right"==e.attr("submenu-direction")?(jQueryBuddha(e).find("ul.mm-submenu").removeClass("tree-open-left"),e.find("ul.mm-submenu.tree li>a>i.mm-arrow").removeClass("mm-angle-down mm-angle-right mm-angle-left"),jQueryBuddha(e).find("ul.mm-submenu.tree li").each(function(){jQueryBuddha(this).find("ul.mm-submenu").length>0&&jQueryBuddha(this).find(">a>i.mm-arrow").addClass("mm-angle-right")})):(jQueryBuddha(e).find("ul.mm-submenu").addClass("tree-open-left"),jQueryBuddha(e).find("ul.mm-submenu.tree li>a>i.mm-arrow").removeClass("mm-angle-down mm-angle-right mm-angle-left"),jQueryBuddha(e).find("ul.mm-submenu.tree li").each(function(){jQueryBuddha(this).find("ul.mm-submenu").length>0&&jQueryBuddha(this).find(">a>i.mm-arrow").addClass("mm-angle-left")}))}}function setTabbedSubmenuBoundries(e){if(jQueryBuddha(e).closest(".horizontal-mega-menu").length>0){allowMainMenuRecalibration&&setSubmenuBoundries(jQueryBuddha(e).closest(".buddha-menu-item"));var t=jQueryBuddha(e).parent().find(">li").index(jQueryBuddha(e));if(jQueryBuddha(e).find(">ul.mm-submenu").length>0){jQueryBuddha(e).find(">ul.mm-submenu").removeAttr("style");var n=jQueryBuddha(e).find(">ul.mm-submenu").outerHeight(),a=0;if(jQueryBuddha(e).parent().find(">li").each(function(){a+=jQueryBuddha(this).outerHeight()}),a>=n){var u=jQueryBuddha(e).parent().attr("style"),i="";i+=void 0!=u?u+";height:"+a+"px !important":"height:"+a+"px !important",jQueryBuddha(e).parent().attr("style",i);var u=jQueryBuddha(e).find(">ul.mm-submenu").attr("style"),i="";i+=void 0!=u?u+";height:"+a+"px !important":"height:"+a+"px !important",jQueryBuddha(e).find(">ul.mm-submenu").attr("style",i)}else{var u=jQueryBuddha(e).parent().attr("style"),i="";i+=void 0!=u?u+";height:"+n+"px !important":"height:"+n+"px !important",jQueryBuddha(e).parent().attr("style",i)}}else jQueryBuddha(e).parent().css("height","auto");var m=jQueryBuddha(e).parent().find(">li:nth-child("+(t+1)+")").position().top,u=jQueryBuddha(e).find(">ul.mm-submenu").attr("style"),i="";i+=void 0!=u?u+";top:-"+m+"px !important":"top:-"+m+"px !important",jQueryBuddha(e).find(">ul.mm-submenu").attr("style",i)}else jQueryBuddha(e).closest(".vertical-mega-menu").find(".tab-opened").removeClass("tab-opened")}function setContactSubmenuBoundries(e,t,n){var a=jQueryBuddha("body").width(),u=1e3 ;if(jQueryBuddha(e).find(">ul.mm-submenu.mm-contact").length>0&&jQueryBuddha(e).closest(".horizontal-mega-menu").length>0){jQueryBuddha(e).parent().parents().each(function(){var e=jQueryBuddha(this).offset().left+parseInt(jQueryBuddha(this).css("padding-left"));e<u&&e>0&&(u=e)}),(1e3==u||a<=768)&&(u=0),t&&void 0!==t||void 0===e.attr("submenu-size")||(t=e.attr("submenu-size")),n&&void 0!==n||void 0===e.attr("submenu-direction")||(n=e.attr("submenu-direction")),customHeaderOffset?u=customHeaderOffset<a?(a-customHeaderOffset)/2:0:t&&(u=t<a?(a-t)/2:0);var i=jQueryBuddha(e).find(">ul.mm-submenu.mm-contact");i.css({width:"auto",left:"auto",right:"auto","max-width":"none","min-width":"auto"}),2*u>a&&(u=0);var m=a-2*u;("left"==n||"right"==n)&&a<768&&(n="auto");var o=jQueryBuddha(e).offset().left+jQueryBuddha(e).outerWidth()/2;if(n&&void 0!==n&&"auto"!=n){if("right"==n){var r=jQueryBuddha(e).offset().left+parseInt(jQueryBuddha(e).css("padding-left")),l=a-r+"px",d=0;parseInt(l)<parseInt(768)&&(d=parseInt(768)-parseInt(l)),parseInt(m)>parseInt(l)&&(m=l),i.css({left:-d+"px",width:m+"px","max-width":l,"min-width":768})}else if("left"==n){var s=a-(jQueryBuddha(e).offset().left+jQueryBuddha(e).outerWidth()),l=a-s+"px",c=0;parseInt(l)<parseInt(768)&&(c=parseInt(768)-parseInt(l)),parseInt(m)>parseInt(l)&&(m=l),i.css({right:-c+"px",width:m+"px","max-width":l,"min-width":768})}}else if(o<a/2){var d=a-(a-jQueryBuddha(e).offset().left)-u;d<0&&(d=0),i.css({left:-d+"px",width:m+"px","min-width":"768px"})}else{var c=a-jQueryBuddha(e).offset().left-jQueryBuddha(e).outerWidth()-u;c<0&&(c=0),i.css({right:-c+"px",width:m+"px","min-width":"768px"})}}else jQueryBuddha(e).find("ul.mm-submenu.mm-contact").css({left:"auto",right:"auto",width:"auto",height:"auto","min-width":"auto","max-width":"none"}),jQueryBuddha(e).find(">ul.mm-submenu.mm-contact").width()<=480&&jQueryBuddha(e).find(">ul.mm-submenu.mm-contact").addClass("one-column")}function mmEvtTouchStart(e){mmTouchMoved=!1}function mmEvtTouchMove(e){mmTouchMoved=!0}function mmEvtTouchEnd(e){var t=e.target;if(setTimeout(function(){mmTouchMoved=!1,mmTouchOnce=!1},300),0==mmTouchOnce)if(mmTouchOnce=!0,null!=t.closest(".vertical-mega-menu li")){var n=t.closest("li");if(n){var a=n.querySelector("a>.toggle-menu-btn");return a||(a=n.querySelector("a>span>.toggle-menu-btn")),null!=a?!!n.classList.contains("mm-hovering")||(e.preventDefault(),a.click(),!1):(null!=n.closest(".buddha-menu-item-countdown")?e.preventDefault():0==t.matches(".mm-add-to-cart")&&setTimeout(function(){if(!changingPage){var e=n.querySelector("a");e&&e.click()}},200),!0)}}else if(null!=t.closest(".horizontal-mega-menu li")){var n=t.closest("li");if(n){if(n.matches(".buddha-menu-item")){if(null!=n.querySelector("ul.mm-submenu")){if(n.classList.contains("mega-hover")){var u=n.querySelector("a");return u&&mmGoToPage(u,e),!0}e.preventDefault(),mmForEach(document,".mega-hover",function(e){e.classList.remove("mega-hover")}),n.classList.add("mega-hover"),setSubmenuBoundries(jQueryBuddha(n)),setContactSubmenuBoundries(jQueryBuddha(n));var i=n.querySelector(".tab-opened");return i&&setTabbedSubmenuBoundries(jQueryBuddha(i)),!1}return!0}if(n.parentNode.matches(".mm-submenu.tabbed")){if(null!=n.querySelector("ul.mm-submenu")){if(n.classList.contains("tab-opened")){var u=n.querySelector("a");return u&&mmGoToPage(u,e),!0}return e.preventDefault(),mmChildren(n.parentNode,function(e){"LI"==e.nodeName&&e.classList.remove("tab-opened")}),n.classList.add("tab-opened"),setTabbedSubmenuBoundries(jQueryBuddha(n)),setSubmenuBoundries(jQueryBuddha(n.parentNode.parentNode)),!1}return!0}if(null!=n.closest(".mm-submenu.tree")&&null!=n.querySelector("ul.mm-submenu")){if(n.classList.contains("mega-hover")){var u=n.querySelector("a");return u&&mmGoToPage(u,e),!0}e.preventDefault(),mmChildren(n.parentNode,function(e){"LI"==e.nodeName&&e.classList.remove("mega-hover")}),mmForEach(n,".mega-hover",function(e){e.classList.remove("mega-hover")}),n.classList.add("mega-hover");for(var m=mmParents(n,"LI"),o=0;o<m.length;o++)m[o].classList.add("mega-hover");return setSubmenuBoundries(jQueryBuddha(n)),!1}if(null!=n.closest(".buddha-menu-item-countdown"))return e.preventDefault(),!0;if(null!=n.closest(".mm-contact"))return e.stopPropagation(),!0;if(0==t.matches(".mm-add-to-cart")){var u=n.querySelector("a");return u&&mmGoToPage(u,e),!0}}}}function mmEvtTouchEndGlobal(e){var t=e.target;globalTouch&&null==t.closest(".buddha-menu-item")&&mmForEach(document,".mega-hover",function(e){e.classList.remove("mega-hover")})}function addTouch(){document.removeEventListener("touchend",mmEvtTouchEndGlobal),document.addEventListener("touchend",mmEvtTouchEndGlobal);for(var e=0;e<ulPaths.length;e++){var t=document.querySelector(ulPaths[e]);t&&(t.removeEventListener("touchstart",mmEvtTouchStart),t.addEventListener("touchstart",mmEvtTouchStart),t.removeEventListener("touchmove",mmEvtTouchMove),t.addEventListener("touchmove",mmEvtTouchMove),t.removeEventListener("touchend",mmEvtTouchEnd),t.addEventListener("touchend",mmEvtTouchEnd))}}function slideUpTransition(e){var t=e.css("max-height");e.parents("ul.mm-submenu").each(function(){var e=parseInt(jQueryBuddha(this).css("max-height"))-parseInt(t);jQueryBuddha(this).css("max-height",e+"px")}),e.closest("li").find(".mm-submenu").css({"max-height":"0","margin-bottom":"0"})}function slideDownTransition(e){var t=e.css("max-height");e.css("max-height","none");var n=e.outerHeight()+50;return e.css("max-height",t),setTimeout(function(){if(e.css({"max-height":n}),e.closest("li").is(":last-child")){var t=e.attr("style");t+="margin-bottom: -5px !important;",e.attr("style",t)}e.parents("ul.mm-submenu").each(function(){var e=parseInt(jQueryBuddha(this).css("max-height"))+parseInt(n);jQueryBuddha(this).css("max-height",e+"px")})},20),n}function LightenDarkenColor(e,t){if("r"==e[0]){var n=e.replace(/^rgba?\(|\s+|\)$/g,"").split(","),a=parseInt(n[0])+t;a>255?a=255:a<0&&(a=0);var u=parseInt(n[1])+t;u>255?u=255:u<0&&(u=0);var i=parseInt(n[2])+t;return i>255?i=255:i<0&&(i=0),void 0!==n[3]?"rgba("+a+","+u+","+i+","+n[3]+")":"rgb("+a+","+u+","+i+")"}var m=!1;"#"==e[0]&&(e=e.slice(1),m=!0);var o=parseInt(e,16),a=(o>>16)+t;a>255?a=255:a<0&&(a=0);var i=(o>>8&255)+t;i>255?i=255:i<0&&(i=0);var u=(255&o)+t;return u>255?u=255:u<0&&(u=0),(m?"#":"")+String("000000"+(u|i<<8|a<<16).toString(16)).slice(-6)}function getUlPath(e){for(var t,n=!0;e;){var a=e.localName;if(!a)break;a=a.toLowerCase();var u="";ignoreClass=!1,"body"!=a&&"html"!=a&&(""!=e.id&&/[a-zA-Z]/.test(e.id.charAt(0))?u="#"+e.id:e.classList.length>0&&!n&&!ignoreClass&&""!=e.classList[0]&&(u="."+e.classList[0]));for(var i=0,m=!1,o=e;null!=(o=o.previousElementSibling);)o.localName&&o.localName.toLowerCase()==a&&(m=!0),i++;for(var o=e;null!=(o=o.nextElementSibling);)if(o.localName&&o.localName.toLowerCase()==a){m=!0;break}m&&(-1!==["li","ul","header"].indexOf(a)||"div"==a&&""==u)&&(a+=":nth-child("+(i+1)+")"),n=!1,t=a+u+(t?">"+t:""),e=e.parentNode}return t}function preloadBuddhaMegaMenu(){"undefined"!=typeof loadFlipClockBuddha&&loadFlipClockBuddha(jQueryBuddha),"undefined"!=typeof loadLivIconsBuddha?(loadLivIconsBuddha(jQueryBuddha),mmLivIconsLoaded=!0):setTimeout(function(){"undefined"!=typeof loadLivIconsBuddha&&loadLivIconsBuddha(jQueryBuddha),mmLivIconsLoaded=!0},300),void 0!==loadBuddhaMegaMenu?loadBuddhaMegaMenu():setTimeout(function(){loadBuddhaMegaMenu()},1e3)}function loadJqueryBuddha(){var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(xhr.readyState==XMLHttpRequest.DONE){var data=xhr.responseText;jQueryBuddha=data.replace(/jQuery/g,"jQueryBuddha"),eval(jQueryBuddha),"undefined"!=typeof jQuery&&($=jQuery.noConflict()),preloadBuddhaMegaMenu()}},xhr.open("GET",mmjQueryFile,!0),xhr.send(null)}function BuddhaMegaMenuMain(){if("undefined"==typeof jQuery)loadJqueryBuddha();else{var e=jQuery.fn.jquery.split(".");1==parseInt(e[0])&&parseInt(e[1])>=7||parseInt(e[0])>1?(jQueryBuddha=jQuery,preloadBuddhaMegaMenu()):loadJqueryBuddha()}}if(window.addEventListener&&void 0===mmLoaded){var newMenu=!1,jQueryBuddha,mmLoaded=!0,mmLivIconsLoaded=!1,undo=[],redo=[],action="",tempMenuObject={},changedMenu=!1,submenuToggled=!1,changingPage=!1,saving=!1,panelOpened=!1,verticalMenuMaxWidth=1e4,selectedMenu,clicked,touched,burgerIcon,disableOnClick=!1,globalTouch=!0,onClickOnlyReinit=!1,disableOnScroll=!1,mobileMenuMilliseconds=350,ulPaths=[],submenuSizes={},submenuDirections={},submenuColumns={},customHeaderOffset=!1,fontSize=0,storeUlCount=0,storeNavCount=0,loadMegaMenuTries=100,customMenuUls,defaultFontSelected=!1,forceMobile=!1,activateMegaMenu=!0,previewPanelLoaded=!1,allowMainMenuRecalibration=!0,readyStateCheckInterval,disableThemeScript=!1,mmApplyOnce=!1,initializedSchema=!1,possibleMenuUls="ul:not(.bcsell-list)"+mmDomChangeSkipUl,mmSetSmBoundriesOnReinit=!1,mmHorizontalMenus=!1,mmVerticalMenus=!1,livIconsOptions={},livIconsOptionsCache=[],mmDisableVisibleCheck=!1,mmNumErrors=0;Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var propSettings={background_color:{element:".horizontal-mega-menu ul.mm-submenu, .horizontal-mega-menu>li>ul.mm-submenu.tabbed>li>ul.mm-submenu li,.horizontal-mega-menu li.buddha-menu-item:hover ul.mm-submenu.simple li:hover, .horizontal-mega-menu li.buddha-menu-item.mega-hover ul.mm-submenu.simple li:hover",attribute:"background"},background_hover_color:{element:".horizontal-mega-menu ul.mm-submenu.tree li:hover, .horizontal-mega-menu ul.mm-submenu.tree li.mega-hover, .horizontal-mega-menu ul.mm-submenu.tabbed>li.tab-opened",attribute:"background"},background_image_text_color:{element:".horizontal-mega-menu ul.mm-submenu.backgroundImage a, .horizontal-mega-menu ul.mm-submenu.backgroundImage h3,.horizontal-mega-menu ul.mm-submenu.backgroundImage .mm-contact-content, .horizontal-mega-menu ul.mm-submenu.backgroundImage li",attribute:"color"},text_color:{element:'.horizontal-mega-menu ul.mm-submenu,.horizontal-mega-menu ul.mm-submenu li,.horizontal-mega-menu ul.mm-submenu h3,.horizontal-mega-menu ul.mm-submenu li a,.horizontal-mega-menu ul.mm-submenu li.fa, .horizontal-mega-menu ul.mm-submenu.tree li:hover>a[data-href="no-link"], .horizontal-mega-menu ul.mm-submenu.tree li.mega-hover>a[data-href="no-link"], .horizontal-mega-menu ul.mm-submenu.tabbed>li.tab-opened>a[data-href="no-link"], .horizontal-mega-menu ul.mm-submenu li a[data-href="no-link"]:hover, .horizontal-mega-menu .mm-contact *::placeholder',attribute:"color"},link_hover_color:{element:".horizontal-mega-menu ul.mm-submenu.tree li:hover>a, .horizontal-mega-menu ul.mm-submenu.tree li.mega-hover>a, .horizontal-mega-menu ul.mm-submenu.tabbed>li.tab-opened>a, .horizontal-mega-menu ul.mm-submenu li a:hover, .horizontal-mega-menu ul.mm-submenu li a:hover>span, .horizontal-mega-menu ul.mm-submenu.tree li.fa:hover:before, .horizontal-mega-menu ul.mm-submenu.tree li.mega-hover.fa:before, .horizontal-mega-menu ul.mm-submenu.tabbed>li.tab-opened.fa:before, .horizontal-mega-menu ul.mm-submenu>li>.mega-menu-item-container>.mm-list-name>span[onclick]:hover",attribute:"color"},font_size:{element:".horizontal-mega-menu ul.mm-submenu,.horizontal-mega-menu ul.mm-submenu a,.horizontal-mega-menu ul.mm-submenu .money",attribute:"font-size"},price_color:{element:".horizontal-mega-menu ul.mm-submenu.simple > li .mega-menu-prices span.mega-menu-price span",attribute:"color"},vertical_text_color:{element:".vertical-mega-menu ul.mm-submenu,.vertical-mega-menu ul.mm-submenu h3,.vertical-mega-menu ul.mm-submenu li a, .vertical-mega-menu ul.mm-submenu>li>a>.toggle-menu-btn>.fa",attribute:"color"},vertical_link_hover_color:{element:".vertical-mega-menu ul.mm-submenu>li:hover>a, .vertical-mega-menu ul.mm-submenu.tree li:hover>a, .vertical-mega-menu ul.mm-submenu.tree li.mega-hover>a, .vertical-mega-menu ul.mm-submenu.tabbed>li.tab-opened>a, .vertical-mega-menu ul.mm-submenu li a:hover, .vertical-mega-menu ul.mm-submenu.tree li:hover>a>.toggle-menu-btn>.fa:before, .vertical-mega-menu ul.mm-submenu.tree li.mm-hovering>a>.toggle-menu-btn>.fa:before, .vertical-mega-menu ul.mm-submenu.tree li.mega-hover>a>.toggle-menu-btn>.fa:before, .vertical-mega-menu ul.mm-submenu.tabbed>li.mm-hovering>a>.toggle-menu-btn>.fa:before, .vertical-mega-menu ul.mm-submenu.tabbed>li:hover>a>.toggle-menu-btn>.fa:before, .vertical-mega-menu ul.mm-submenu li.mm-hovering>a, .vertical-mega-menu ul.mm-submenu>li>.mega-menu-item-container>.mm-list-name>span[onclick]:hover",attribute:"color"},vertical_font_size:{element:".vertical-mega-menu ul.mm-submenu,.vertical-mega-menu ul.mm-submenu.simple>li ul.mm-product-list>li .mm-list-info",attribute:"font-size"},vertical_price_color:{element:".vertical-mega-menu ul.mm-submenu.simple > li .mega-menu-prices span.mega-menu-price span",attribute:"color"},font_family:{element:".horizontal-mega-menu ul.mm-submenu,.horizontal-mega-menu ul.mm-submenu li a,.horizontal-mega-menu ul.mm-submenu a,.horizontal-mega-menu ul.mm-submenu li.mm-contact-column h3",attribute:"font-family"},vertical_font_family:{element:".vertical-mega-menu ul.mm-submenu,.vertical-mega-menu ul.mm-submenu li a,.vertical-mega-menu ul.mm-submenu a,.vertical-mega-menu ul.mm-submenu li.mm-contact-column h3",attribute:"font-family"},button_background_color:{element:".horizontal-mega-menu ul.mm-submenu li.mm-contact-column button",attribute:"background"},button_background_hover_color:{element:".horizontal-mega-menu ul.mm-submenu li.mm-contact-column button:hover",attribute:"background"},button_text_color:{element:".horizontal-mega-menu ul.mm-submenu li.mm-contact-column button",attribute:"color"},button_text_hover_color:{element:".horizontal-mega-menu ul.mm-submenu li.mm-contact-column button:hover",attribute:"color"},countdown_color:{element:".horizontal-mega-menu .buddha-menu-item-countdown .inn",attribute:"color"},countdown_background_color:{element:".horizontal-mega-menu .buddha-menu-item-countdown .inn,.horizontal-mega-menu .buddha-menu-item-countdown .up::after,.horizontal-mega-menu .buddha-menu-item-countdown .flip-clock-dot",attribute:"background"},addtocart_text_color:{element:".horizontal-mega-menu .mm-add-to-cart",attribute:"color"},addtocart_text_hover_color:{element:".horizontal-mega-menu .buddha-menu-item .mm-submenu .mm-add-to-cart:hover",attribute:"color"},addtocart_background_color:{element:".horizontal-mega-menu .mm-add-to-cart",attribute:"background"},addtocart_background_hover_color:{element:".horizontal-mega-menu .buddha-menu-item .mm-submenu .mm-add-to-cart:hover",attribute:"background"},vertical_button_background_color:{element:".vertical-mega-menu ul.mm-submenu li.mm-contact-column button",attribute:"background"},vertical_button_background_hover_color:{element:".vertical-mega-menu ul.mm-submenu li.mm-contact-column button:hover",attribute:"background"},vertical_button_text_color:{element:".vertical-mega-menu ul.mm-submenu li.mm-contact-column button",attribute:"color"},vertical_button_text_hover_color:{element:".vertical-mega-menu ul.mm-submenu li.mm-contact-column button:hover",attribute:"color"},vertical_countdown_color:{element:".vertical-mega-menu .buddha-menu-item-countdown .inn",attribute:"color"},vertical_countdown_background_color:{element:".vertical-mega-menu .buddha-menu-item-countdown .inn,.vertical-mega-menu .buddha-menu-item-countdown .up::after,.vertical-mega-menu .buddha-menu-item-countdown .flip-clock-dot",attribute:"background"},vertical_addtocart_text_color:{element:".vertical-mega-menu .buddha-menu-item .mm-add-to-cart",attribute:"color"},vertical_addtocart_background_color:{element:".vertical-mega-menu .buddha-menu-item .mm-add-to-cart",attribute:"background"},label_text_color_sale:{element:".horizontal-mega-menu .buddha-menu-item .mm-label.sale",attribute:"color"},label_text_color_new:{element:".horizontal-mega-menu .buddha-menu-item .mm-label.new",attribute:"color"},label_text_color_hot:{element:".horizontal-mega-menu .buddha-menu-item .mm-label.hot",attribute:"color"},label_text_color_all:{element:".horizontal-mega-menu .buddha-menu-item .mm-label.sale,.horizontal-mega-menu .buddha-menu-item .mm-label.new,.horizontal-mega-menu .buddha-menu-item .mm-label.hot",attribute:"color"},label_background_color_sale:{element:".horizontal-mega-menu .buddha-menu-item .mm-label.sale",attribute:"background-color"},label_background_color_new:{element:".horizontal-mega-menu .buddha-menu-item .mm-label.new",attribute:"background-color"},label_background_color_hot:{element:".horizontal-mega-menu .buddha-menu-item .mm-label.hot",attribute:"background-color"},label_background_color_all:{element:".horizontal-mega-menu .buddha-menu-item .mm-label.sale,.horizontal-mega-menu .buddha-menu-item .mm-label.new,.horizontal-mega-menu .buddha-menu-item .mm-label.hot",attribute:"background-color"},vertical_label_text_color_sale:{element:".vertical-mega-menu .buddha-menu-item .mm-label.sale",attribute:"color"},vertical_label_text_color_new:{element:".vertical-mega-menu .buddha-menu-item .mm-label.new",attribute:"color"},vertical_label_text_color_hot:{element:".vertical-mega-menu .buddha-menu-item .mm-label.hot",attribute:"color"},vertical_label_text_color_all:{element:".vertical-mega-menu .buddha-menu-item .mm-label.sale,.vertical-mega-menu .buddha-menu-item .mm-label.new,.vertical-mega-menu .buddha-menu-item .mm-label.hot",attribute:"color"},vertical_label_background_color_sale:{element:".vertical-mega-menu .buddha-menu-item .mm-label.sale",attribute:"background-color"},vertical_label_background_color_new:{element:".vertical-mega-menu .buddha-menu-item .mm-label.new",attribute:"background-color"},vertical_label_background_color_hot:{element:".vertical-mega-menu .buddha-menu-item .mm-label.hot",attribute:"background-color"},vertical_label_background_color_all:{element:".vertical-mega-menu .buddha-menu-item .mm-label.sale,.vertical-mega-menu .buddha-menu-item .mm-label.new,.vertical-mega-menu .buddha-menu-item .mm-label.hot",attribute:"background-color"}},reinitAfterDesignTimeout;window.addEventListener("message",function(e){~e.origin.indexOf(mmAppUrl)&&("object"==typeof e.data?"applyMegaMenu"==e.data[0]?(window[e.data[0]](e.data[1]),applyOnClick()):-1!==jQueryBuddha.inArray(e.data[0],["undoAction","redoAction","clearAction","initSaving","designPanelClosed"])?window[e.data[0]]():-1!==jQueryBuddha.inArray(e.data[0],["designPanelOpened"])?void 0===e.data[1]?window[e.data[0]]():window[e.data[0]](e.data[1]):-1!==jQueryBuddha.inArray(e.data[0],["liveDesign","updateDesign"])&&window[e.data[0]](e.data[1],e.data[2]):"string"==typeof e.data&&"function"==typeof window[e.data]&&window[e.data]())});var mmTouchMoved=!1,mmTouchOnce=!1} if (typeof mmBeforeLoaded == "undefined") { var mmBeforeLoaded = true; if (typeof InstantClick !== "undefined") { InstantClick.on("change", function(isInitialLoad) { if (!isInitialLoad) { ulPaths = []; storeUlCount = 0; storeNavCount = 0; preloadBuddhaMegaMenu(); } }); } if (window.self === window.top) { /* in frontend start loading immediately */ BuddhaMegaMenuMain(); } else { /* in preview load after dom content loaded event to emulate deferred exec */ if (document.readyState !== "loading") { BuddhaMegaMenuMain(); } else { document.addEventListener("DOMContentLoaded", BuddhaMegaMenuMain); setTimeout(function(){ document.removeEventListener("DOMContentLoaded", BuddhaMegaMenuMain); BuddhaMegaMenuMain(); },15000); } } } 